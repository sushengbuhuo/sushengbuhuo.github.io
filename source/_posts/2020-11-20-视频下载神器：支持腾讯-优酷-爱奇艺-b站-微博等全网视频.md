---
title: 视频下载神器：支持腾讯/优酷/爱奇艺/b站/微博等全网视频
date: 2020-11-20 18:45:32
tags:
- 公众号
---
> 苏生不惑第`194` 篇原创文章，将本公众号设为`星标`，第一时间看最新文章。

虽然大部分视频网站都提供视频下载/缓存功能，但有些下载的视频只能用指定播放器来播放，而且为了下载视频都要安装他们的工具太麻烦了，如果有一个通用下载工具就方便了，这里推荐几个视频下载神器，支持腾讯/优酷/爱奇艺/b站/微博等全网视频。

### 命令行下载工具
命令行下载工具有 youtube-dl，you-get ，ykdl ，annie  4个。

youtube-dl 是一款基于Python的网络视频命令行下载工具 https://github.com/ytdl-org/youtube-dl ，最初旨在从Youtube上下载视频，现在也支持其它网站了，先安装好Python再命令行中用`pip install -U youtube-dl`来安装它 ，我用的命令行工具是cmder。
 
```js
λ  pip install -U youtube-dl
Collecting youtube-dl
  Downloading https://files.pythonhosted.org/packages/89/5e/78523cb106c93370941b5fdd7e6dab58d66d762a1d7fd914eeff8ba2fb03/youtube_dl-2020.11.1.1-py2.py3-none-any.whl (1.8MB)
     |████████████████████████████████| 1.8MB 1.3MB/s
Installing collected packages: youtube-dl
  Found existing installation: youtube-dl 2018.10.5
    Uninstalling youtube-dl-2018.10.5:
      Successfully uninstalled youtube-dl-2018.10.5
Successfully installed youtube-dl-2020.11.1.1
```
前段时间由于某些原因被下架了，于是有了镜像工具 youtube-dlc https://github.com/blackjack4494/yt-dlc ，还好现在恢复了。
```js
λ pip install --upgrade youtube-dlc
Collecting youtube-dlc
  Downloading https://files.pythonhosted.org/packages/3c/a7/6b6b681766b3786273f0c52f34fb2537c0eae51d817476a7bee18d0f3bc4/youtube_dlc-2020.11.7-py2.py3-none-any.whl (1.8MB)
     |████████████████████████████████| 1.8MB 364kB/s
Installing collected packages: youtube-dlc
Successfully installed youtube-dlc-2020.11.7

λ youtube-dlc   https://www.bilibili.com/video/BV1dD4y197fH
[BiliBili] 1dD4y197fH: Downloading webpage
[BiliBili] 1dD4y197fH: Downloading video info page
[download] Destination: 活动作品十一月听什么？当然是《十一月的嚣张》！-1dD4y197fH.flv
[download] 100% of 171.93MiB in 03:36
```
`youtube-dlc   https://www.bilibili.com/video/BV1dD4y197fH `很快就下载好了一个b站视频 。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-cfc97daff9399c27.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
用QQ影音播放器就能播放。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-1ef3fbe468005f4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
you-get 也是基于Python的命令行工具 https://github.com/soimort/you-get  ，直接使用 `pip install you-get ` 来安装。

![image.png](https://upload-images.jianshu.io/upload_images/23152173-043c59988597f0ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
使用 `you-get --format=flv360 https://www.bilibili.com/video/BV1dD4y197fH `下载 360p格式的视频。
```js
λ you-get --format=flv360 https://www.bilibili.com/video/BV1dD4y197fH
site:                Bilibili
title:               十一月听什么？当然是《十一月的嚣张》！
stream:
    - format:        flv360
      container:     flv
      quality:       流畅 360P
      size:          27.4 MiB (28742996 bytes)
    # download-with: you-get --format=flv360 [URL]

Downloading 十一月听什么？当然是《十一月的嚣张》！.flv ...
 100% ( 27.4/ 27.4MB) ├████████████████████████████████████████┤[1/1]  166 kB/s

Downloading 十一月听什么？当然是《十一月的嚣张》！.cmt.xml ...
```
连弹幕也下载好了，可以用文本编辑器打开。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-b5c6c368a65267b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

ykdl是基于you-get的命令行下载工具，支持Python2和更多国内视频网站  https://github.com/zhangn1985/ykdl， 使用`pip install ykdl `安装它。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-a7bee1b258c54f79.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
使用`ykdl --format=SD https://www.bilibili.com/video/BV1dD4y197fH` 下载360p格式视频。
 ```js
λ ykdl --format=SD https://www.bilibili.com/video/BV1dD4y197fH
site:                哔哩哔哩 (Bilibili)
title:               十一月听什么？当然是《十一月的嚣张》！ - 十一月的肖邦十五周年-muxed
artist:              zyl2012
streams:
    - format:        SD
      container:     mp4
      video-profile: 流畅 360P
      size:          27.4 MiB (28742996 bytes)
    # download-with: ykdl --format=SD [URL]
Download: 十一月听什么？当然是《十一月的嚣张》！ - 十一月的肖邦十五周年-muxed_SD
 100%
```
最后一个是 annie   https://github.com/iawia002/annie ，它是基于golang开发的命令行工具，使用 `go get github.com/iawia002/annie` 来安装它，如果没有go环境可以下载提供的可执行文件 https://wwx.lanzoux.com/iIB1Rgf90uf ，然后配置下环境变量。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-6deab4cb1a5627ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
它支持的视频网站有抖音，b站，优酷，YouTube，爱奇艺，芒果，微博，腾讯视频，网易云音乐，好看视频等。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-ec4c8eeb142f9e24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

 `annie -i https://v.youku.com/v_show/id_XMjg5MDQxOTc2MA==.html `查看优酷视频信息。
```js
annie -i https://v.youku.com/v_show/id_XMjg5MDQxOTc2MA==.html

 Site:      优酷 youku.com
 Title:     周杰伦电影《不能说的秘密》你看过吗? 是杰迷都会唱这首歌吧
 Type:      video
 Streams:   # All available quality
     [flvhd]  -------------------
     Quality:         flvhd 640x360
     Size:            9.24 MiB (9693070 Bytes)
     # download with: annie -f flvhd ...

     [3gphd]  -------------------
     Quality:         3gphd 480x268
     Size:            6.93 MiB (7268066 Bytes)
     # download with: annie -f 3gphd ...
```
![image.png](https://upload-images.jianshu.io/upload_images/23152173-e871a9effb943e95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
`annie -i https://www.iqiyi.com/w_19rwc42eht.html `查看爱奇艺视频信息。

```js
 annie -i https://www.iqiyi.com/w_19rwc42eht.html

 Site:      爱奇艺 iqiyi.com
 Title:     几分钟看完周杰伦巅峰爱情电影《不能说的秘密》-电影-完整版视频在线观看-爱奇艺
 Type:      video
 Streams:   # All available quality
     [5]  -------------------
     Quality:         1920x1080
     Size:            35.51 MiB (37234397 Bytes)
     # download with: annie -f 5 ...

     [4]  -------------------
     Quality:         1920x1080
     Size:            24.04 MiB (25207170 Bytes)
     # download with: annie -f 4 ...

     [2]  -------------------
     Quality:         1920x1080
     Size:            16.17 MiB (16958163 Bytes)
     # download with: annie -f 2 ...

     [1]  -------------------
     Quality:         1920x1080
     Size:            8.30 MiB (8704998 Bytes)
     # download with: annie -f 1 ...
```
![image.png](https://upload-images.jianshu.io/upload_images/23152173-e4e4dd37b45bec39.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
`annie -i https://v.qq.com/x/cover/mzc00200vvfld1j/q0034sb9eru.html `查看腾讯视频信息。
```js
 annie -i https://v.qq.com/x/cover/mzc00200vvfld1j/q0034sb9eru.html

 Site:      腾讯视频 v.qq.com
 Title:     周杰伦《Mojito》MV首播，一起恋上古巴的微醺浪漫
 Type:      video
 Streams:   # All available quality
     [fhd]  -------------------
     Quality:         蓝光;(1080P)
     Size:            66.57 MiB (69801700 Bytes)
     # download with: annie -f fhd ...

     [shd]  -------------------
     Quality:         超清;(720P)
     Size:            43.26 MiB (45358921 Bytes)
     # download with: annie -f shd ...

     [hd]  -------------------
     Quality:         高清;(480P)
     Size:            20.86 MiB (21873015 Bytes)
     # download with: annie -f hd ...

     [sd]  -------------------
     Quality:         标清;(270P)
     Size:            9.11 MiB (9554586 Bytes)
     # download with: annie -f sd ...
```
![image.png](https://upload-images.jianshu.io/upload_images/23152173-d0f5cfaec0695a7b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
`annie -i https://www.bilibili.com/video/BV1dD4y197fH` 查看b站视频信息，其余视频网站就不一一演示了。
```js
annie -i https://www.bilibili.com/video/BV1dD4y197fH

 Site:      哔哩哔哩 bilibili.com
 Title:     活动作品十一月听什么？当然是《十一月的嚣张》！
 Type:      video
 Streams:   # All available quality
     [80]  -------------------
     Quality:         高清 1080P
     Size:            159.23 MiB (166964530 Bytes)
     # download with: annie -f 80 ...

     [64]  -------------------
     Quality:         高清 720P
     Size:            109.15 MiB (114453468 Bytes)
     # download with: annie -f 64 ...

     [32]  -------------------
     Quality:         清晰 480P
     Size:            54.01 MiB (56629359 Bytes)
     # download with: annie -f 32 ...

     [16]  -------------------
     Quality:         流畅 360P
     Size:            22.41 MiB (23495541 Bytes)
     # download with: annie -f 16 ...
```  
![image.png](https://upload-images.jianshu.io/upload_images/23152173-114bbd516d0eac87.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

使用 ` annie -f 16 https://www.bilibili.com/video/BV1dD4y197fH` 下载b站视频，如果需要登录账号权限下载可以加入cookie下载 `annie -c cookies.txt https://www.bilibili.com/video/BV1dD4y197fH` 。
```js
 annie -f 16 https://www.bilibili.com/video/BV1dD4y197fH

 Site:      哔哩哔哩 bilibili.com
 Title:     活动作品十一月听什么？当然是《十一月的嚣张》！
 Type:      video
 Stream:
     [16]  -------------------
     Quality:         流畅 360P
     Size:            22.41 MiB (23495541 Bytes)
     # download with: annie -f 16 ...

 22.41 MiB / 22.41 MiB [==================================================================] 100.00% 5.21 MiB/s 4s Merging video parts into 活动作品十一月听什么？当然是《十一月的嚣张》！.mp4
```
![image.png](https://upload-images.jianshu.io/upload_images/23152173-a307ac5f401648fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

上面4个命令行工具也不用都下载，有人开发了集合 annie/ykdl/youtube-dl/you-get 的组件 AYY-VideoDown 。
### AYY-VideoDown
 这个工具集合了 annie/ykdl/youtube-dl/you-get 四大网络视频下载工具（公众号后台回复 `视频` 获取），其中annie 默认安装了可以直接使用，其余3个自行选择安装。 

![image.png](https://upload-images.jianshu.io/upload_images/23152173-60a422a786e5715b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

如果不会用命令行下载还有基于you-get的界面版软件vdl。
### vdl
 vdl是基于you-get的界面版软件  
， 比如下载腾讯视频周杰伦的《Mojito》  https://v.qq.com/x/cover/mzc00200vvfld1j/q0034sb9eru.html  
![image.png](https://upload-images.jianshu.io/upload_images/23152173-b0534653a0d16abc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

下载爱奇艺视频 https://www.iqiyi.com/w_19rwc42eht.html
![image.png](https://upload-images.jianshu.io/upload_images/23152173-db16e71fb9192b1b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

b站视频地址可以选择分p下载。 
![image.png](https://upload-images.jianshu.io/upload_images/23152173-bdfee9a3274e7277.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![image.png](https://upload-images.jianshu.io/upload_images/23152173-b6e48a8ccf81f2ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

对于不在上面命令行工具支持列表的网站可以使用 idm和 m3u8 工具来下载，比如知乎视频就可以idm直接下载。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-06363a8e49deb848.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


m3u8格式的视频就不能用idm了，推荐这个工具 https://github.com/nilaoda/N_m3u8DL-CLI  https://wwx.lanzoux.com/ifAYJiitxve


比如获取腾讯视频 https://v.qq.com/x/cover/mzc00200vvfld1j/q0034sb9eru.html 的 m3u8地址 https://defaultts.tc.qq.com/defaultts.tc.qq.com/AKXSNi8x6hxiqLy-vm5AhWV9dq_L7hIdRXtTnmcYBkxY/uwMROfz2r5zCIaQXGdGnC2df644Q3LWUuLvyGY4RMhgE_3T2/-rp2e6W0VzJkbiX70R_4tK0WBrq2oF8s0TX0tN7CiYWIdFMYUuoiAmTSKC-jJIFoIORa7HycZryWuVHPDq4OnGJezgtfLIq1e54A2xTzpMqrqV0r0P1Xv_MtU2uqIye8MNTKoggXqUhNZkQlCt0I8a93zk9QUHGLe1x1BqGapxY/q0034sb9eru.321002.ts.m3u8?ver=4
![image.png](https://upload-images.jianshu.io/upload_images/23152173-f60378bdfae62307.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
输入获取的m3u8地址直接下载。

![image.png](https://upload-images.jianshu.io/upload_images/23152173-61f4db78becd685e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
很快下载好了。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-abdd076fcfb151c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

另外如果想批量下载b站up主视频推荐这个 b站下载工具 ，之前文章 [如何更优雅地使用 bilibili(b站)](https://mp.weixin.qq.com/s/a_lxHOQVA9RR_dYyzr56Gw) 介绍过，比如输入李永乐老师https://space.bilibili.com/9458053/ 的uid，共352个视频。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-9805074e4906235d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
下载速度还是很快的。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-1c8b9d982b2d48b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
还有下载抖音博主的视频 https://v.douyin.com/JkaaoTH/ ，之前文章[一键批量下载抖音无水印视频](https://mp.weixin.qq.com/s/UhLx4cjkfNVsdUyod7te0g) 也介绍过了。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-b98bcfb40e27c605.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

如果要下载MOOC大学的视频见之前文章[一键下载中国大学/网易云课堂/慕课网等课程视频和课件](https://mp.weixin.qq.com/s/jBqtpcGIW40dUjpuGIzDWQ)

最后分享个油猴脚本（公众号后台回复 `视频` 获取），可以去除腾讯，优酷，爱奇艺视频上的logo图标，之前文章 [如何更优雅地看电影/刷剧](https://mp.weixin.qq.com/s/ksElusubk3s7dKtAqI4HKg) 也介绍过，谷歌浏览器安装油猴Chrome扩展 https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=zh-CN 后直接导入脚本文件。

![image.png](https://upload-images.jianshu.io/upload_images/23152173-8a88feae6b3f43da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
安装脚本前。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-b5759ac3cdf02743.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
安装脚本后爱奇艺logo不见了。
![image.png](https://upload-images.jianshu.io/upload_images/23152173-ecb58c61d932952c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 公众号 苏生不惑
 ![扫描二维码关注或搜索微信susheng_buhuo](https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)