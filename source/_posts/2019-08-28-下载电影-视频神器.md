---
title: 下载电影/视频神器
date: 2019-08-28 20:16:55
tags:
- 公众号
---
之前写过一篇 [下载电影/视频神器](http://mp.weixin.qq.com/s?__biz=MjM5ODIzNDExMg==&mid=2257483940&idx=1&sn=a5164ddbb244bc4a1eb45e3ba82855a8&chksm=a5b709cb92c080dd396a00799977254a6ceb6c7338bd39dc13d023820b5e907ea7b32c05e414&scene=21#wechat_redirect) 主要是介绍 you-get ,这里再介绍一个下载国外视频的工具，同样是基于 python 的  youtube-dl

先说说安装 先要下载 python 

```
pip install youtube-dl //直接安装 youtube-dl
pip install -U youtube-dl //安装 youtube-dl 并更新 （如果安装过）
```

 如果要下载 前提得翻出去,这个比较有难度，具体方法自己百度或谷歌吧，比如常用的 ss, 命令行下载加上代理 --proxy "https://127.0.0.1:1080"

当然也可以在命令行执行 

export http_proxy=http://127.0.0.1:1080 

export https_proxy=https://127.0.0.1:1080 

这样命令行也可以 翻出去了 ，然后就可以下载了。youtubetoo.co 

![image](https://upload-images.jianshu.io/upload_images/17817191-55c51ebd289a2826?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

虽然名字叫  youtube-dl ( youtube 是个国外的知名视频网站，可惜国内访问不了，至于为什么，你懂的) ,但它也支持部分国内视频网站 https://rg3.github.io/youtube-dl/supportedsites.html 这里是支持列表，不过我刚才试了下，网易音乐就下载不了。
```js
$ youtube-dl 'http://music.163.com/song?id=167880'

[netease:song] 167880: Downloading song info

[netease:song] 167880: Checking song URL

[netease:song] 167880: song URL is invalid, skipping

[netease:song] 167880: Checking song URL

[netease:song] 167880: song URL is invalid, skipping

[netease:song] 167880: Checking song URL

[netease:song] 167880: song URL is invalid, skipping

[netease:song] 167880: Checking song URL
 
ERROR: Unable to download webpage: [WinError 10053] 您的主机中的软件中止了一个已

建立的连接。 (caused by ConnectionAbortedError(10053, '您的主机中的软件中止了一

个已建立的连接。', None, 10053, None)); please report this issue on https://yt-d

l.org/bug . Make sure you are using the latest version; see  https://yt-dl.org/u

pdate  on how to update. Be sure to call youtube-dl with the --verbose flag and

include its complete output.
```
然后说到 ffmpeg 下载 m3u8 ，这里用 斗鱼为例

先到 https://ffmpeg.org/download.html 下载工具 ffmpeg,然后下载周杰伦的这首《枫》https://v.douyu.com/show/ra2JEMJgB2WNxml6， 通过控制台可以看到 m3u8 地址 http://videows1.douyucdn.cn/live/normal_399318620161117220817/playlist.m3u8?k=c7a113074e987e0bc6e9095a163b5aef&t=5a198153&u=0&ct=web&vid=15494&d=2BF670C8284583FC69011E718786E8D3
```js
$ ffmpeg  -i 'http://videows1.douyucdn.cn/live/normal_399318620161117220817/

playlist.m3u8?k=c7a113074e987e0bc6e9095a163b5aef&t=5a198153&u=0&ct=web&vid=1549

4&d=2BF670C8284583FC69011E718786E8D3' -c copy jay.ts

ffmpeg version N-88193-g5834cba05e Copyright (c) 2000-2017 the FFmpeg developers

  built with gcc 7.2.0 (GCC)

  configuration: --enable-gpl --enable-version3 --enable-sdl2 --enable-bzlib --e

nable-fontconfig --enable-gnutls --enable-iconv --enable-libass --enable-libblur

ay --enable-libfreetype --enable-libmp3lame --enable-libopenjpeg --enable-libopu

s --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libtheora --ena

ble-libtwolame --enable-libvpx --enable-libwavpack --enable-libwebp --enable-lib

x264 --enable-libx265 --enable-libxml2 --enable-libzimg --enable-lzma --enable-z

lib --enable-gmp --enable-libvidstab --enable-libvorbis --enable-cuda --enable-c

uvid --enable-d3d11va --enable-nvenc --enable-dxva2 --enable-avisynth --enable-l

ibmfx

  libavutil      56\.  0.100 / 56\.  0.100

  libavcodec     58\.  0.101 / 58\.  0.101

  libavformat    58\.  0.101 / 58\.  0.101

  libavdevice    58\.  0.100 / 58\.  0.100

  libavfilter     7\.  0.100 /  7\.  0.100

  libswscale      5\.  0.100 /  5\.  0.100

  libswresample   3\.  0.100 /  3\.  0.100

  libpostproc    55\.  0.100 / 55\.  0.100

[hls,applehttp @ 0000000000517540] Opening 'http://videows1.douyucdn.cn/live/nor

mal_399318620161117220817/5314b7d5007b46528e369b4865225950_0000000.ts?k=c7a11307

4e987e0bc6e9095a163b5aef&t=5a198153&u=0&ct=web&vid=15494&d=2BF670C8284583FC69011

E718786E8D3' for reading
```
**下载到本地的 jay.ts 文件(23 MB)可以用 vlc 播放器来播放，然后转换为 mp4 格式 就可以用 QQ 播放器来播放了。**  除了 ffmpeg 还有可以用 livestreamer或者streamlink 来下载，先用 pip 安装就可以了。

最后说个最简单的办法，通过浏览器来获取视频地址下载。

当然每个网站不一样，有些网站不适合，这里以 b 站为例，这里要下载的视频是《那些年，我们一起追的女孩》 ，地址 http://www.bilibili.com/video/av9632377/

通过控制台可以看到实际的文件地址为 https://tx.acgvideo.com/b/43/15919534-1.mp4?txTime=1511626123&platform=pc&txSecret=a9aa8bbabda3130ec81af47a5eecb1e0&oi=1898888581&rate=143072&hfb=b99ffc3c5c68f00a33123bb25f882d5b

![image](https://upload-images.jianshu.io/upload_images/17817191-27e283871687e681?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

然后用浏览器直接打开就可以下载了 ，话说沈佳宜真漂亮。

![image](https://upload-images.jianshu.io/upload_images/17817191-fb463373364dd9b8?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

这里再推荐几个搜百度网盘资源网站

http://www.panyisou.com/search/ 

http://www.pansou.com/  

http://www.xiaobaipan.com/ 

http://www.fastsoso.cn/ 

http://www.sobaidupan.com/ 

http://www.panc.cc/

http://www.52xsba.com/video/ 

http://www.flvurl.cn/ 

http://vip.shuidi.im 

http://www.yiqikanvip.com/

http://www.ttspore.top 

http://loving.bike/shi/ 

http://source.surge.sh/video.html  

http://www.dianyingvip.com
