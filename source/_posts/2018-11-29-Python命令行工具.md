---
title: Python命令行工具
date: 2018-11-29 11:50:37
tags:
- python
- 命令行
- 工具
---
### 安装python3
```javascript
sudo yum install python34
$ curl -O https://bootstrap.pypa.io/get-pip.py
$ sudo /usr/bin/python3.4 get-pip.py
Looking in indexes: http://mirrors.tencentyun.com/pypi/simple
Collecting pip
  Downloading http://mirrors.tencentyun.com/pypi/packages/d8/f3/413bab4ff08e1fc4828dfc59996d721917df8e8583ea85385d51125dceff/pip-19.0.3-py2.py3-none-any.whl (1.4MB)
    100% |████████████████████████████████| 1.4MB 2.9MB/s
Collecting setuptools
  Downloading http://mirrors.tencentyun.com/pypi/packages/d1/6a/4b2fcefd2ea0868810e92d519dacac1ddc64a2e53ba9e3422c3b62b378a6/setuptools-40.8.0-py2.py3-none-any.whl (575kB)
    100% |████████████████████████████████| 583kB 2.7MB/s
Collecting wheel
[root@CentOS72 ~]# python3 -V
Python 3.4.3
[root@su ~]# pip3 -V
pip 19.0.3 from /usr/lib/python3.4/site-packages/pip (python 3.4)
https://blog.huzhifeng.com/2016/09/12/CentOS-7-Install-Python3-pip3/
```
### 显示Python包
```javascript
//pip包网站 https://pypi.org/search/?q=cheat
//命令行安装目录 which httpstat /d/python/srcripts/
pip install https://github.com/mher/flower/zipball/master
$ pip list
Package              Version
-------------------- ---------
aiohttp              3.4.4
alembic              1.0.0
amqp                 2.3.2
asn1crypto           0.24.0
astral               1.6.1
async-timeout        3.0.0
attrs                18.2.0
Automat              0.7.0
Babel                2.6.0
bcrypt               3.1.4
billiard             3.5.0.4
bleach               2.1.4
boto3                1.4.7
botocore             1.7.48
cchardet             2.1.4
celery               4.2.1
certifi              2018.8.24
cffi                 1.11.5
chardet              3.0.4
click                6.7
colorama             0.3.9
constantly           15.1.0
contextlib2          0.5.5
cryptography         2.3.1
defusedxml           0.5.0
docutils             0.14
et-xmlfile           1.0.1
Flask                0.12.4
Flask-AppBuilder     1.12.1
Flask-Babel          0.11.1
Flask-Caching        1.4.0
Flask-Compress       1.4.0
Flask-Login          0.4.1
Flask-Migrate        2.2.1
Flask-OpenID         1.2.5
Flask-Script         2.0.6
Flask-SQLAlchemy     2.3.2
Flask-Testing        0.7.1
Flask-WTF            0.14.2
flower               0.9.2
future               0.16.0
geographiclib        1.49
geopy                1.16.0
gunicorn             19.9.0
homeassistant        0.80.3
html5lib             1.0.1
humanize             0.5.1
hyperlink            18.0.0
idna                 2.7
ijson                2.3
incremental          17.5.0
isodate              0.6.0
itsdangerous         0.24
jdcal                1.4
Jinja2               2.10
jmespath             0.9.3
jsonlines            1.2.0
jsonschema           2.6.0
kombu                4.2.1
linear-tsv           1.1.0
Mako                 1.0.7
Markdown             3.0.1
MarkupSafe           1.0
multidict            4.4.2
mysqlclient          1.3.13
numpy                1.15.1
openpyxl             2.4.11
pandas               0.23.4
parsedatetime        2.4
pathlib2             2.3.2
pip                  18.1
polyline             1.3.2
pure-sasl            0.5.1
pycparser            2.18
pydruid              0.4.5
PyHamcrest           1.9.0
PyHive               0.6.0
PyJWT                1.6.4
PyMySQL              0.9.2
python-dateutil      2.7.3
python-editor        1.0.3
python-geohash       0.8.5
python3-openid       3.1.0
pytz                 2018.5
PyYAML               3.13
requests             2.19.1
rfc3986              1.1.0
s3transfer           0.1.13
selenium             3.14.0
setuptools           39.0.1
simplejson           3.16.0
six                  1.11.0
SQLAlchemy           1.2.11
SQLAlchemy-Utils     0.33.3
sqlparse             0.2.4
superset             0.28.0
tableschema          1.2.5
tabulator            1.17.0
thrift               0.11.0
thrift-sasl          0.3.0
tornado              5.1
Twisted              18.9.0
unicodecsv           0.14.1
Unidecode            1.0.22
urllib3              1.23
vine                 1.1.4
virtualenv           16.0.0
voluptuous           0.11.5
voluptuous-serialize 2.0.0
webencodings         0.5.1
Werkzeug             0.14.1
wheel                0.32.1
WTForms              2.2.1
xlrd                 1.1.0
yarl                 1.2.6
youtube-dl           2018.10.5
zope.interface       4.5.0
```
### 视频下载you-get
```javascript
//https://github.com/soimort/you-get
$ you-get 'https://www.youtube.com/watch?v=jNQXAC9IVRw'
site:                YouTube
title:               Me at the zoo
stream:
    - itag:          43
      container:     webm
      quality:       medium
      size:          0.5 MiB (564215 bytes)
    # download-with: you-get --itag=43 [URL]

Downloading Me at the zoo.webm ...
 100% (  0.5/  0.5MB) ├██████████████████████████████████┤[1/1]    6 MB/s

Saving Me at the zoo.en.srt ... Done.
$ you-get https://stallman.org/rms.jpg
Site:       stallman.org
Title:      rms
Type:       JPEG Image (image/jpeg)
Size:       0.06 MiB (66482 Bytes)

Downloading rms.jpg ...
100.0% (  0.1/0.1  MB) ├████████████████████████████████████████┤[1/1]  127 kB/s

$ pip3 install -U lulu
$ lulu https://www.bilibili.com/video/av18295259/
site:                Bilibili
title:               【中文八级】俄罗斯人的名字超乎你的想象
stream:
    - format:        flv720
      container:     flv
      size:          175.4 MiB (183914793 bytes)
    # download-with: lulu --format=flv720 [URL]

Downloading 【中文八级】俄罗斯人的名字超乎你的想象.flv ...
 100% (175.4/175.4MB) ├████████████████████████████████████████┤[1/1]    3 MB/s

Downloading 【中文八级】俄罗斯人的名字超乎你的想象.cmt.xml ...
```
### httpie
```javascript
pip install --upgrade httpie
http httpie.org
HTTP/1.1 301 Moved Permanently
CF-RAY: 486fc237347a7948-LAX
Cache-Control: max-age=3600
Connection: keep-alive
Date: Mon, 10 Dec 2018 12:36:42 GMT
Expires: Mon, 10 Dec 2018 13:36:42 GMT
Location: https://httpie.org/
Server: cloudflare
Transfer-Encoding: chunked
Vary: Accept-Encoding
$ http PUT example.org X-API-Token:123 name=John
$ http DELETE example.org/todos/7
$docker pull kennethreitz/httpbin
$docker run -p 80:80 kennethreitz/httpbin
http tonydeng.github.io/blog/2015/07/10/httpie-howto/ User-Agent:Xmodlo/1.0 Referer:http://tonydeng.github.io
GET /blog/2015/07/10/httpie-howto/ HTTP/1.1
Accept: */*
Accept-Encoding: gzip, deflate
Connection: keep-alive
Host: tonydeng.github.io
Referer: http://tonydeng.github.io
User-Agent: Xmodlo/1.0

http PUT tonydeng.github.io name='Tony Deng' email='tonydeng@email.com'
http -f POST tonydeng.github.io name='Tony Deng' email='tonydeng@email.com'
-f 选项使http命令序列化数据字段，并将Content-Type设置为application/x-www-form-urlencoded;charset=utf-8
当你不指定Content-Type发送请求参数时，它们就会自动序列化为JSON对象。
https://tonydeng.github.io/2015/07/10/httpie-howto/
http POST tonydeng.github.io name='Tony Deng' email='tonydeng@email.com'

POST / HTTP/1.1
Accept: application/json
Accept-Encoding: gzip, deflate
Connection: keep-alive
Content-Length: 52
Content-Type: application/json
Host: tonydeng.github.io
User-Agent: HTTPie/0.9.2
{
    "email": "tonydeng@email.com",
    "name": "Tony Deng"
}
http POST tonydeng.github.io < my_info.json
或:

echo '{"name": "Tony Deng","email": "tonydeng@email.com"}' | http POST tonydeng.github.io
```
### 清晰易读的 cURL 工具httpstat
```javascript
pip install httpstat
wget https://raw.githubusercontent.com/reorx/httpstat/master/httpstat.py
 go get github.com/davecheney/httpstat 
 https://learnku.com/articles/24048
$ httpstat httpbin.org
Connected to 54.152.127.232:80 from 10.235.51.43:55118

HTTP/1.1 200 OK
Connection: keep-alive
Server: gunicorn/19.9.0
Date: Mon, 10 Dec 2018 12:39:33 GMT
Content-Type: text/html; charset=utf-8
Content-Length: 10122
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: true
Via: 1.1 vegur

Body stored in: C:\Users\suping3\AppData\Local\Temp\tmppkgeite_

  DNS Lookup   TCP Connection   Server Processing   Content Transfer
[    250ms   |      234ms     |       265ms       |       15ms       ]
             |                |                   |                  |
    namelookup:250ms          |                   |                  |
                        connect:484ms             |                  |
                                      starttransfer:749ms            |
                                                                 total:764ms
httpstat httpbin.org/post -X POST --data-urlencode "a=b" -v
                                                                 
```
### shadowsocks
```javascript
pip install shadowsocks
ssserver -p 443 -k password -m rc4-md5
sudo ssserver -p 443 -k password -m rc4-md5 --user nobody -d start
sudo ssserver -d stop
 less /var/log/shadowsocks.log
```
### 增强型语法高亮mycli
```javascript
mycli -u用户名 -p密码
```
### 中文分词
```javascript
from snownlp import SnowNLP

s = SnowNLP(u'这个东西真心很赞')

s.words         # [u'这个', u'东西', u'真心',
                #  u'很', u'赞']

s.tags          # [(u'这个', u'r'), (u'东西', u'n'),
                #  (u'真心', u'd'), (u'很', u'd'),
                #  (u'赞', u'Vg')]

s.sentiments    # 0.9769663402895832 positive的概率

s.pinyin        # [u'zhe', u'ge', u'dong', u'xi',
                #  u'zhen', u'xin', u'hen', u'zan']

s = SnowNLP(u'「繁體字」「繁體中文」的叫法在臺灣亦很常見。')

s.han           # u'「繁体字」「繁体中文」的叫法
                # 在台湾亦很常见。'

text = u'''
自然语言处理是计算机科学领域与人工智能领域中的一个重要方向。
它研究能实现人与计算机之间用自然语言进行有效通信的各种理论和方法。
自然语言处理是一门融语言学、计算机科学、数学于一体的科学。
因此，这一领域的研究将涉及自然语言，即人们日常使用的语言，
所以它与语言学的研究有着密切的联系，但又有重要的区别。
自然语言处理并不是一般地研究自然语言，
而在于研制能有效地实现自然语言通信的计算机系统，
特别是其中的软件系统。因而它是计算机科学的一部分。
'''

s = SnowNLP(text)

s.keywords(3)	# [u'语言', u'自然', u'计算机']

s.summary(3)	# [u'因而它是计算机科学的一部分',
                #  u'自然语言处理是一门融语言学、计算机科学、
				#	 数学于一体的科学',
				#  u'自然语言处理是计算机科学领域与人工智能
				#	 领域中的一个重要方向']
s.sentences

s = SnowNLP([[u'这篇', u'文章'],
             [u'那篇', u'论文'],
             [u'这个']])
s.tf
s.idf
s.sim([u'文章'])# [0.3756070762985226, 0, 0]
```
### 测试你的上下行网速
```javascript
 pip install speedtest-cli --upgrade
 [root@VM_0_14_centos ~]# speedtest  --share
 Retrieving speedtest.net configuration...
 Testing from Tencent cloud computing (118.24.158.116)...
 Retrieving speedtest.net server list...
 Selecting best server based on ping...
 Hosted by Beijing Broadband Network (Beijing) [1.69 km]: 36.987 ms
 Testing download speed................................................................................
 Download: 21.77 Mbit/s
 Testing upload speed................................................................................................
 Upload: 1.10 Mbit/s
 Share results: http://www.speedtest.net/result/7842317337.png
```
### cheat
```javascript
pip install cheat
$ cheat curl
# Download a single file
curl http://path.to.the/file

# Download a file and specify a new filename
curl http://example.com/file.zip -o new_file.zip

# Download multiple files
curl -O URLOfFirstFile -O URLOfSecondFile

# Download all sequentially numbered files (1-24)
curl http://example.com/pic[1-24].jpg

# Download a file and pass HTTP Authentication
curl -u username:password URL

# Download a file with a Proxy
curl -x proxysever.server.com:PORT http://addressiwantto.access

# Download a file from FTP
curl -u username:password -O ftp://example.com/pub/file.zip

# Get an FTP directory listing
curl ftp://username:password@example.com

# Resume a previously failed download
curl -C - -o partial_file.zip http://example.com/file.zip

# Fetch only the HTTP headers from a response
curl -I http://example.com

# Fetch your external IP and network info as JSON
curl http://ifconfig.me/all/json

# Limit the rate of a download
curl --limit-rate 1000B -O http://path.to.the/file

# Get your global IP
curl httpbin.org/ip

# Get only the HTTP status code
curl -o /dev/null -w '%{http_code}\n' -s -I URL

curl cht.sh/curl
curl cht.sh/php/array_map
```
### zhihu
```javascript
$ pip install zhihuapi
import zhihuapi as api

with open('cookie') as f:
    api.cookie(f.read())

data = api.user('zhihuadmin').profile()
print(data)
{
    "url_token": "zhihuadmin",
    "avatar_url": "https://pic3.zhimg.com/34bf96bf5584ac4b5264bd7ed4fdbc5a_is.jpg",
    "avatar_url_template": "https://pic3.zhimg.com/34bf96bf5584ac4b5264bd7ed4fdbc5a_{size}.jpg",
    "type": "people",
    "name": "知乎小管家",
    "headline": "欢迎反馈问题和建议！",
    "is_org": false,
    "url": "https://www.zhihu.com/people/zhihuadmin",
    "badge": [
        {
            "type": "identity",
            "description": "知乎官方帐号"
        }
    ],
    "user_type": "people",
    "is_advertiser": false,
    "id": "3d198a56310c02c4a83efb9f4a4c027e"
}
```
### 微信机器人
```javascript
pip install -U wxpy -i "https://pypi.doubanio.com/simple/"
# 导入模块
from wxpy import *
# 初始化机器人，扫码登陆
bot = Bot()
# 搜索名称含有 "游否" 的男性深圳好友
my_friend = bot.friends().search('游否', sex=MALE, city="深圳")[0]
# 发送文本给好友
my_friend.send('Hello WeChat!')
# 发送图片
my_friend.send_image('my_picture.jpg')

pip install wechat_sender
from wxpy import *
from wechat_sender import *
bot = Bot()
listen(bot)
# 之后 wechat_sender 将持续运行等待接收外部消息
from wechat_sender import Sender
Sender().send('Hello From Wechat Sender')
# Hello From Wechat Sender 这条消息将通过 1 中登录微信的文件助手发送给你
pip install itchat
import itchat

itchat.auto_login()

itchat.send('Hello, filehelper', toUserName='filehelper')
```
### 数据可视化
```javascript
# Install superset
pip install superset

# Create an admin user (you will be prompted to set a username, first and last name before setting a password)
fabmanager create-admin --app superset

# Initialize the database
superset db upgrade

# Load some data to play with
superset load_examples

# Create default roles and permissions
superset init

# To start a development web server on port 8088, use -p to bind to another port
superset runserver -d
```
### 直接执行简单 Python 表达式
```javascript
[root@VM_0_14_centos onpremise]# pip install pythonpy
Collecting pythonpy
  Downloading http://mirrors.tencentyun.com/pypi/packages/01/ca/3b2c0fe88b4305dcaa2c575046781338add06e5670e3baf13a378e3acbd4/pythonpy-0.4.11.tar.gz
Installing collected packages: pythonpy
  Running setup.py install for pythonpy ... done
Successfully installed pythonpy-0.4.11
You are using pip version 8.1.2, however version 18.1 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
[root@VM_0_14_centos onpremise]# py "248168/1024.0"
242.3515625
$ py "pandas.__version__"
0.16.2
$ py 'math.exp(1)'
2.71828182846
```
### ppt 转 pdf 图片
```javascript
pip install PyWin32 Pillow reportlab 
git clone https://github.com/ernestyao/PPT2PDF.git  
C:\PPT2PDF-master>python PPT2PDF.py test.pptx test.pdf  
test  
水印完成  
准备生成C:\PPT2PDF-master\test_tank测试.pdf  
C:\PPT2PDF-master\test_tank测试\幻灯片1.PNG  
C:\PPT2PDF-master\test_tank测试\幻灯片2.PNG  
C:\PPT2PDF-master\test_tank测试\幻灯片3.PNG  
C:\PPT2PDF-master\test_tank测试\幻灯片4.PNG  
C:\PPT2PDF-master\test_tank测试\幻灯片5.PNG  
C:\PPT2PDF-master\test_tank测试\幻灯片6.PNG  
C:\PPT2PDF-master\test_tank测试\幻灯片7.PNG  
C:\PPT2PDF-master\test_tank测试\幻灯片8.PNG  
完成PDF合成   http://blog.51yip.com/other/1934.html
```
### 二维码
```javascript
# 逐一安装https://yfzhou.coding.me/2018/08/27/%E4%BD%BF%E7%94%A8-Python-%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81/
pip install pillow
pip install numpy
pip install imageio
pip install myqr
myqr https://github.com -p github.jpg -c

myqr https://github.com -p github.gif -c -con 1.5 -bri 1.6
```
### 数据分析
```javascript
pip3 install pandas
python3 -m pip install --upgrade pip
python3 -m pip install jupyter
jupyter notebook
copy and paste one of these URLs:
        http://localhost:8889/?token=3907c3efc88d7814cf8cfee262ad277d8cf8ae2c7cf97b8d
[I 13:51:10.834 NotebookApp] Creating new notebook in

```
![i](https://iocaffcdn.phphub.org/uploads/images/201903/07/24141/eIw8MARlWr.png!large)
### uncurl
```javascript
Python Requests转换助手有一个很棒的开源cURL http://curl.trillworks.com   https://github.com/NickCarneiro/curlconverter
pip install uncurl 
[root@su ~]# uncurl "curl 'https://pypi.python.org/pypi/uncurl' -H 'Accept-Encoding: gzip,deflate,sdch'"
requests.get("https://pypi.python.org/pypi/uncurl",
    headers={
        "Accept-Encoding": "gzip,deflate,sdch"
    },
    cookies={},
)
echo "curl 'https://pypi.python.org/pypi/uncurl' -H 'Accept-Encoding: gzip,deflate,sdch'"|uncurl
import uncurl

>>> print(uncurl.parse("curl 'https://pypi.python.org/pypi/uncurl' -H 'Accept-Encoding: gzip,deflate,sdch'"))
requests.get("https://pypi.python.org/pypi/uncurl",
    headers={
        "Accept-Encoding": "gzip,deflate,sdch"
    },
    cookies={},
)

https://stackoverflow.com/questions/20461194/conversion-of-curl-to-python-requests
中文版stackoverflow  http://landcareweb.com/questions/35099/jiang-curlzhuan-huan-wei-pythonqing-qiu
```
### 词云
```javascript
$ wordcloud_cli --text mytext.txt --imagefile wordcloud.png
If you're dealing with PDF files, then pdftotext, included by default with many Linux distribution, comes in handy:


$ pdftotext mydocument.pdf - | wordcloud_cli --imagefile wordcloud.png
wordcloud_cli --text in.txt --imagefile out.png --mask in.png

text 是词云来源，mask 是背景框架 ，imagefile 输出的文件
wordcloud_cli.exe --text datas\data.json --fontfile assets\simkai.ttf --imagefile wordcloud.png
wordcloud_cli --help 查看所有支持的命令参数

usage: wordcloud_cli [-h] [--text file] [--regexp regexp] [--stopwords file]
                     [--imagefile file] [--fontfile path] [--mask file]
                     [--colormask file] [--contour_width width]
                     [--contour_color color] [--relative_scaling rs]
                     [--margin width] [--width width] [--height height]
                     [--color color] [--background color] [--no_collocations]
                     [--version]

A simple command line interface for wordcloud module.

optional arguments:
  -h, --help            show this help message and exit
  --text file           specify file of words to build the word cloud
                        (default: stdin)
  --regexp regexp       override the regular expression defining what
                        constitutes a word
  --stopwords file      specify file of stopwords (containing one word per
                        line) to remove from the given text after parsing
  --imagefile file      file the completed PNG image should be written to
                        (default: stdout)
  --fontfile path       path to font file you wish to use (default:
                        DroidSansMono)
  --mask file           mask to use for the image form
  --colormask file      color mask to use for image coloring
  --contour_width width
                        if greater than 0, draw mask contour (default: 0)
  --contour_color color
                        use given color as mask contour color - accepts any
                        value from PIL.ImageColor.getcolor
  --relative_scaling rs
                        scaling of words by frequency (0 - 1)
  --margin width        spacing to leave around words
  --width width         define output image width
  --height height       define output image height
  --color color         use given color as coloring for the image - accepts
                        any value from PIL.ImageColor.getcolor
  --background color    use given color as background color for the image -
                        accepts any value from PIL.ImageColor.getcolor
  --no_collocations     do not add collocations (bigrams) to word cloud
                        (default: add unigrams and bigrams)
  --version             show program's version number and exit
```
### 命令行录制工具asciinema
```javascript
 pip3 install asciinema
 https://asciinema.org/docs/installation
 asciinema rec
 录制完成 ctrl+d 或 exit 退出，可保存到本地（json 格式），也可上传到 https://asciinema.org ，设置为 public 后可分享观看，而且官方提供多种方式很容易嵌入到自己对网站使用。
 
 https://asciinema.org/a/248319?t=5&speed=3&theme=solarized-dark
 视频链接后加 .png 对应的是分享用的视频截图：https://asciinema.org/a/248319.png ，而视频链接后加 .js 是可以站外直接调用的播放链接：
 
 <script src="https://asciinema.org/a/113463.js" id="asciicast-113463" async data-autoplay="true" data-size="big"></script>
 https://learnku.com/articles/28920
```
[命令行工具 Speedtest-CLI 来测试你的上下行网速](https://linux.cn/article-5626-1.html)

[一个命令行 Python 工具](http://kuanghy.github.io/2017/03/03/pythonpy)

[2018python榜单](https://annual2018.pycourses.com/?hmsr=toutiao.io&utm_medium=toutiao.io&utm_source=toutiao.io#0)

[10 分钟速成 Python3](https://learnxinyminutes.com/docs/zh-cn/python3-cn/)

[Windows 下有哪些替代 CMD 的命令行工具](https://www.zhihu.com/question/19739424)

[有哪些命令行的软件堪称神器](https://www.zhihu.com/question/59227720)

[优秀的命令行工具整理](https://juejin.im/post/5c3dcecef265da6163024b1c)

[10款Windows命令行工具](https://www.cnblogs.com/haochuang/p/5593411.html)

[一些能够改你效率的工具](https://github.com/maozhenggang/monkey-cheats)

[shell](https://explainshell.com/)


