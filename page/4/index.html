<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<script>
    (function () {
        if ('') {
            if (prompt('请输入文章密码') !== '') {
                alert('密码错误！');
                if (history.length === 1) {
                    location.replace("https://google.com"); // 这里替换成你的首页
                } else {
                    history.back();
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="苏生不惑的博客">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="苏生不惑的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="苏生不惑的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/">



<meta name="referrer" content="never"> ​​​​


  <title>苏生不惑的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">苏生不惑的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/18/王菲k歌又上微博热搜，Python分析下微博网友评论/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/18/王菲k歌又上微博热搜，Python分析下微博网友评论/" itemprop="url">王菲k歌又上微博热搜，Python分析下微博网友评论</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-18T18:55:47+08:00">
                2020-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  780 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第174篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>最近<code>王菲状态</code>话题上了微博热搜 <a href="https://weibo.com/1266269835/JjRLJ4Ygi" target="_blank" rel="noopener">https://weibo.com/1266269835/JjRLJ4Ygi</a>  <a href="https://weibo.com/6598655984/JjRSUrBi7" target="_blank" rel="noopener">https://weibo.com/6598655984/JjRSUrBi7</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-bdcf67d97fe77607.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-dffa3aaa4dc4e311.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>还和马云合唱了 <code>如果云知道</code> <a href="https://weibo.com/1956700750/JjWgLhrau" target="_blank" rel="noopener">https://weibo.com/1956700750/JjWgLhrau</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-b65dcef181b4d380.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>5年不更新的微博下评论开始求开演唱会 <a href="https://weibo.com/1629810574/C8FqitZ9X" target="_blank" rel="noopener">https://weibo.com/1629810574/C8FqitZ9X</a> </p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-d8962c2996d0cab8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-299e9dcaadd262b1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="微博评论.png"></p>
<p>于是用Python抓取了下这条微博下的评论（前几十页评论），微博有4个域名： 网页版weibo.com ，手机端 m.weibo.com，移动端weibo.cn ，h5端 m.weibo.cn ，这里用网页版为例，打开控制台可以抓取到评论接口<br><a href="https://weibo.com/aj/v6/comment/big?ajwvr=6&amp;id=3820658587146613" target="_blank" rel="noopener">https://weibo.com/aj/v6/comment/big?ajwvr=6&amp;id=3820658587146613</a> </p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-ca7c0b3767163909.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>同样的移动端 <a href="https://weibo.cn/search/?tf=5_012" target="_blank" rel="noopener">https://weibo.cn/search/?tf=5_012</a> 搜王菲可以找到这条微博<a href="https://weibo.cn/comment/C8FqitZ9X" target="_blank" rel="noopener">https://weibo.cn/comment/C8FqitZ9X</a> ，评论也在一块。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-7f4aedf7043723d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>还有h5端 <a href="https://m.weibo.cn/detail/3820658587146613" target="_blank" rel="noopener">https://m.weibo.cn/detail/3820658587146613</a> 抓取到接口<a href="https://m.weibo.cn/comments/hotflow?id=3820658587146613&amp;mid=3820658587146613&amp;max_id=232827256891053&amp;max_id_type=0" target="_blank" rel="noopener">https://m.weibo.cn/comments/hotflow?id=3820658587146613&amp;mid=3820658587146613&amp;max_id=232827256891053&amp;max_id_type=0</a></p>
<p>有了接口地址，数据就很好抓取了，这里写入文件。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-20e98ad0113f3408.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>然后用wordcloud对微博评论生成词云图，主要关键词是好听，菲姐，演唱会，真的很期待王菲再开演唱会。<br> <img src="https://upload-images.jianshu.io/upload_images/23152173-e1ddb1cc63bad39e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>也可以通过网站 <a href="http://cloud.niucodata.com/" target="_blank" rel="noopener">http://cloud.niucodata.com/</a>  生成，上传文字即可。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-6f3d43be8c4a89a9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>另外我用Chrome扩展备份了王菲1500多条微博，详情见之前文章<a href="https://mp.weixin.qq.com/s/AUS5oCukv8hIFZIjO2Drjg" target="_blank" rel="noopener">用Chrome扩展一键备份微博</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-e146f88412a00c19.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>如果需要备份文件在公众号后台回复 <code>微博</code>  获取<a href="https://www.lanzoux.com/iIFWcgjb79c" target="_blank" rel="noopener">https://www.lanzoux.com/iIFWcgjb79c</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-f67f7bb499f90d1b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>天后已经很久不出专辑了，自从去年发了一首单曲《我和我的祖国》快过去一年了，不过即使20年前的歌今天依然在传唱 <a href="https://mp.weixin.qq.com/s/F4P2w0FTE97CdP1YlcFhrw" target="_blank" rel="noopener">王菲51岁：爱她，不只是因为她的歌</a>，比如《红豆》<br><a href="https://music.163.com/#/song?id=299936，可惜目前在网易云音乐需要VIP才能听，如果不想花钱看看之前文章[一键解锁网易云音乐变灰歌曲](https://mp.weixin.qq.com/s/BSfjFnv54EAHmc6eE75T9g)" target="_blank" rel="noopener">https://music.163.com/#/song?id=299936，可惜目前在网易云音乐需要VIP才能听，如果不想花钱看看之前文章[一键解锁网易云音乐变灰歌曲](https://mp.weixin.qq.com/s/BSfjFnv54EAHmc6eE75T9g)</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-decd62282247fd9e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>这里抓取前200页的评论生成词云图，我也很喜欢这首歌。  评论接口地址<a href="http://music.163.com/api/v1/resource/comments/R_SO_4_299936?limit=20&amp;offset=0" target="_blank" rel="noopener">http://music.163.com/api/v1/resource/comments/R_SO_4_299936?limit=20&amp;offset=0</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-e2a7dc9ffeee3675.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>你喜欢听王菲吗？喜欢她哪首歌，可以在文末留言。</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法和九宫格图片</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
<tr>
<td>抖音</td>
<td>一键下载无水印抖音视频</td>
</tr>
</tbody>
</table>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/18/那些有趣的网站系列（五）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/18/那些有趣的网站系列（五）/" itemprop="url">那些有趣的网站系列（五）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-18T18:54:28+08:00">
                2020-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  851 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第173篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>之前分享过  <a href="https://mp.weixin.qq.com/s/ThUw9i43paFhXfPxF8mvyQ" target="_blank" rel="noopener">那些有趣的网站</a> ，<a href="https://mp.weixin.qq.com/s/wTgYpovJrJh8_Zj1h6EbzA" target="_blank" rel="noopener">那些有趣的网站（二）</a>，<a href="https://mp.weixin.qq.com/s/GgNmAY0LUHES3z2IB_5QkQ" target="_blank" rel="noopener">那些有趣的网站系列（三）</a>，<a href="https://mp.weixin.qq.com/s/seFzUO4MVcNw8kkXTufMtA" target="_blank" rel="noopener">那些有趣的网站系列（四）</a>，这是系列第5篇。</p>
<h3 id="查看下载历史"><a href="#查看下载历史" class="headerlink" title="查看下载历史"></a>查看下载历史</h3><p>输入ip地址能查到它的  p2p 下载历史 ，查了下某个地址，简直辣眼睛，不得不打码 <a href="https://iknowwhatyoudownload.com/en/peer/" target="_blank" rel="noopener">https://iknowwhatyoudownload.com/en/peer/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-21fac218b7f3948d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="英超地图"><a href="#英超地图" class="headerlink" title="英超地图"></a>英超地图</h3><p>可视化展示了从 1992-2020 每个赛季的英超球队主场分布<br><a href="http://ggdg.gitee.io/map_of_the_premier_league/" target="_blank" rel="noopener">http://ggdg.gitee.io/map_of_the_premier_league/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-eb9578c7441a23f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<h3 id="多图合成-GIF"><a href="#多图合成-GIF" class="headerlink" title="多图合成 GIF"></a>多图合成 GIF</h3><p> 将多张图片合成为GIF，还可以调节速度，设置背景，尺寸，添加文字特效 <a href="https://tt0.top/img2gif/" target="_blank" rel="noopener">https://tt0.top/img2gif/</a><br><a href="http://www.yingjingtu.com/createGIF" target="_blank" rel="noopener">http://www.yingjingtu.com/createGIF</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-a72492d3e03d8010.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>合成效果GIF图。一个在线 GIF 编辑<a href="https://gifsuper.com/" target="_blank" rel="noopener">https://gifsuper.com/</a> <a href="http://www.gifntext.com/" target="_blank" rel="noopener">http://www.gifntext.com/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-2981b3ef43535bf1.gif?imageMogr2/auto-orient/strip" alt="tt0.top-471100.gif"></p>
<h3 id="生成条形竞赛图动画"><a href="#生成条形竞赛图动画" class="headerlink" title="生成条形竞赛图动画"></a>生成条形竞赛图动画</h3><p>只需要上传csv数据文件（分号隔开）就能生成目前流行的条形竞赛图动画  <a href="https://fabdevgit.github.io/barchartrace/" target="_blank" rel="noopener">https://fabdevgit.github.io/barchartrace/</a>  <a href="https://www.appinn.com/bar-chart-race-generator/" target="_blank" rel="noopener">https://www.appinn.com/bar-chart-race-generator/</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-a9c5db1a5e0b5c51.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>生成的GIF效果图。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-cffd202f22fe2e08.gif?imageMogr2/auto-orient/strip" alt="chart.gif"></p>
<h3 id="你对ios系统有多了解"><a href="#你对ios系统有多了解" class="headerlink" title="你对ios系统有多了解"></a>你对ios系统有多了解</h3><p>来测试下你对ios系统有多了解 <a href="https://sspai.com/page/wwdc20_ios/exam" target="_blank" rel="noopener">https://sspai.com/page/wwdc20_ios/exam</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-ff759757bfaa97e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>比如初代iPhone默认的锁屏壁纸是左边还是右边的？<br><img src="https://upload-images.jianshu.io/upload_images/23152173-c6c460bac45a7495.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="北京话大辞典"><a href="#北京话大辞典" class="headerlink" title="北京话大辞典"></a>北京话大辞典</h3><p>可以输入汉字或者拼音查询北京话的具体含义，比如 倍儿 是特别的意思。<a href="https://www.beijinghuadacidian.com/" target="_blank" rel="noopener">https://www.beijinghuadacidian.com/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-05de333a322a1cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="证件照换底色"><a href="#证件照换底色" class="headerlink" title="证件照换底色"></a>证件照换底色</h3><p>智能证件照生成，证件照换底色，可以设置白色，红色，蓝色，透明 <a href="https://www.mfpng.com/" target="_blank" rel="noopener">https://www.mfpng.com/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-e779ebf20b2d4676.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="期刊杂志搜索"><a href="#期刊杂志搜索" class="headerlink" title="期刊杂志搜索"></a>期刊杂志搜索</h3><p>学生时代都看过 读者文摘，意林，知音类似的杂志吧，这个网站可以在线搜索查看 <a href="http://new-qk.lifves.com/index.php" target="_blank" rel="noopener">http://new-qk.lifves.com/index.php</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-0393206417ab92a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>比如最新2020第17期读者，可以在线浏览，右侧还有只会动的小猫咪。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-93ae7a581f5af5b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="scihub-最新网址"><a href="#scihub-最新网址" class="headerlink" title="scihub 最新网址"></a>scihub 最新网址</h3><p>Sci.hub是一个开源学术数据库，上面免费提供了超过62,000,000篇科学论文和文章， <a href="https://sci-hub.now.sh/" target="_blank" rel="noopener">https://sci-hub.now.sh/</a> 这个网站可以获取最新可用网址 ，<a href="https://whereisscihub.now.sh/" target="_blank" rel="noopener">https://whereisscihub.now.sh/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-c62cc90a7cfbcea9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>比如可用的 <a href="https://sci-hub.se/" target="_blank" rel="noopener">https://sci-hub.se/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-4f90984be27d5434.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="查找同类网站"><a href="#查找同类网站" class="headerlink" title="查找同类网站"></a>查找同类网站</h3><p>查找同类网站，比如b站 <a href="https://www.similarsites.com/site/bilibili.com" target="_blank" rel="noopener">https://www.similarsites.com/site/bilibili.com</a> 的同类a站，油管，可以给找电影/竞争对手提供一个思路。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-639194d276bf336d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="随机博客"><a href="#随机博客" class="headerlink" title="随机博客"></a>随机博客</h3><p>随机跳转到某一博客，也许能发现一个有意思的博客  <a href="https://neyu.com/blog.html" target="_blank" rel="noopener">https://neyu.com/blog.html</a> ，这个随机有点类似 今天中午吃什么 <a href="https://www.zwcsm.com/" target="_blank" rel="noopener">https://www.zwcsm.com/</a>  ，随机一只狗<a href="https://shibe.online/" target="_blank" rel="noopener">https://shibe.online/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-283be05d684263e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法和九宫格图片</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
<tr>
<td>抖音</td>
<td>一键下载无水印抖音视频</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/18/如何用Python批量下载知乎回答图片/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/18/如何用Python批量下载知乎回答图片/" itemprop="url">如何用Python批量下载知乎回答图片</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-18T18:52:04+08:00">
                2020-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.4k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第172 篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>这两天刷知乎看到腾讯的一个回答 有什么可爱的微信头像 ？<a href="https://www.zhihu.com/question/310335618/answer/602970433，分享了上百张QQ高清经典头像。" target="_blank" rel="noopener">https://www.zhihu.com/question/310335618/answer/602970433，分享了上百张QQ高清经典头像。</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-9b3ae90a50366c15.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>于是想着一次性下载下来（公众号后台回复 <code>知乎</code> 获取下载的QQ头像），下面分享几个批量下载图片工具。<a href="https://www.lanzoux.com/iKPVcgfdpji" target="_blank" rel="noopener">https://www.lanzoux.com/iKPVcgfdpji</a> </p>
<h3 id="Fatkun"><a href="#Fatkun" class="headerlink" title="Fatkun"></a>Fatkun</h3><p>Fatkun是一款内嵌到浏览器的工具；可以帮你方便地从任意网站上批量采集喜欢的图片并迅速完成筛选和保存 <a href="http://web.fatkun.cn/extension.html" target="_blank" rel="noopener">http://web.fatkun.cn/extension.html</a> ，支持Chrome、360、QQ、2345、百度、UC、猎豹等所有chrome内核浏览器及Firefox浏览器。</p>
<p>这里下载的是Chrome扩展，安装Chrome扩展方法见之前文章 <a href="https://mp.weixin.qq.com/s/xC9K_z7zpmAIEzUK6s1x3w" target="_blank" rel="noopener">上不了谷歌如何安装 Chrome 扩展</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-7acbd79ead520ddd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>先拉到网页底部，右键选择批量下载。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-2b39230dcf38d36b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>看到有238张图。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-8b6e83e3e13a18cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>全选图片，点下载。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-1910dcae140f21b4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>很快图片就下载好了，下载目录打开 chrome://downloads/ 可以看到。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-c6912296921cb9f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>也可以导出所有图片链接 ，格式改为 {LINK} 就是纯链接了，然后用idm这种软件批量下载。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-5d00a84a82dc2bd4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p> 类似的Chrome扩展还有 图片助手 <a href="https://chrome.google.com/webstore/detail/imageassistant-batch-imag/dbjbempljhcmhlfpfacalomonjpalpko?hl=zh-CN" target="_blank" rel="noopener">https://chrome.google.com/webstore/detail/imageassistant-batch-imag/dbjbempljhcmhlfpfacalomonjpalpko?hl=zh-CN</a> ，右键提取图片。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-1c803bfb109024ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>可以根据图片类型，打消过滤选择下载的图片。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-ff0b968ae1845b7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="imagecyborg"><a href="#imagecyborg" class="headerlink" title="imagecyborg"></a>imagecyborg</h3><p><a href="https://imagecyborg.com/" target="_blank" rel="noopener">https://imagecyborg.com/</a> 这是个在线网站，输入知乎回答链接即可下载图片。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-44303112ce6e473f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>下载的图片在一个zip压缩包内，不过国外的网站有点慢。<br><img src="https://upload-images.jianshu.io/upload_images/17817191-650771fa5f6c1ac4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="Python脚本下载"><a href="#Python脚本下载" class="headerlink" title="Python脚本下载"></a>Python脚本下载</h3><p>知乎有接口可以获取回答内容，所以使用Python下载就很简单了。</p>
<p>单个回答接口  <a href="https://www.zhihu.com/api/v4/answers/602970433?include=is_normal,is_sticky,collapsed_by,suggest_edit,comment_count,collapsed_counts,reviewing_comments_count,can_comment,content,editable_content,voteup_count,reshipment_settings,comment_permission,mark_infos,created_time,updated_time,relationship.is_author,voting,is_thanked,is_nothelp,upvoted_followees;author.is_blocking,is_blocked,is_followed,voteup_count,message_thread_token,badge[?(type=best_answerer)].topics" target="_blank" rel="noopener">https://www.zhihu.com/api/v4/answers/602970433?include=is_normal,is_sticky,collapsed_by,suggest_edit,comment_count,collapsed_counts,reviewing_comments_count,can_comment,content,editable_content,voteup_count,reshipment_settings,comment_permission,mark_infos,created_time,updated_time,relationship.is_author,voting,is_thanked,is_nothelp,upvoted_followees;author.is_blocking,is_blocked,is_followed,voteup_count,message_thread_token,badge[?(type=best_answerer)].topics</a>  可以看到content就是回答内容，图片地址也都在里面。</p>
<p> <img src="https://upload-images.jianshu.io/upload_images/23152173-64dea9614f0d5c6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>简单的代码如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"><span class="keyword">from</span> multiprocessing.pool <span class="keyword">import</span> Pool</span><br><span class="line">#python爬取知乎回答图片 https://zhuanlan.zhihu.com/p/43408400  https://www.zhihu.com/question/310335618/answer/602970433</span><br><span class="line">url = <span class="string">'https://www.zhihu.com/api/v4/answers/602970433?include=is_normal,is_sticky,collapsed_by,suggest_edit,comment_count,collapsed_counts,reviewing_comments_count,can_comment,content,editable_content,voteup_count,reshipment_settings,comment_permission,mark_infos,created_time,updated_time,relationship.is_author,voting,is_thanked,is_nothelp,upvoted_followees;author.is_blocking,is_blocked,is_followed,voteup_count,message_thread_token,badge[?(type=best_answerer)].topics'</span></span><br><span class="line">headers = &#123;</span><br><span class="line">        <span class="string">'Accept'</span>: <span class="string">"application/json, text/javascript, */*; q=0.01"</span>,</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36"</span>,</span><br><span class="line">        <span class="string">'Referer'</span>: <span class="string">'https://www.zhihu.com/api/v4/questions/602970433'</span>,</span><br><span class="line">        <span class="string">'x-requested-with'</span>: <span class="string">'fetch'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">res = requests.get(url,headers=headers,verify=False).json()</span><br><span class="line">print(res[<span class="string">'content'</span>])</span><br><span class="line">content = pq(res['content'])  # content 内容为 xml 格式的网页，用pyquery解析</span><br><span class="line">imgs_url = []</span><br><span class="line">imgs = content(<span class="string">'figure noscript img'</span>).items()</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> img_url <span class="keyword">in</span> imgs:</span><br><span class="line">	i+=<span class="number">1</span></span><br><span class="line">	imgs_url.append(img_url.attr(<span class="string">'src'</span>))</span><br><span class="line">	tmp = requests.get(img_url.attr(<span class="string">'src'</span>),headers=headers,verify=False)</span><br><span class="line">	<span class="keyword">with</span> open(<span class="string">'pics/'</span>+str(i)+<span class="string">'.jpg'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">		f.write(tmp.content)</span><br><span class="line">#pip install wget</span><br><span class="line">#filename = wget.download(url)</span><br><span class="line">print(<span class="string">'图片总数:'</span>+str(len(imgs_url)))</span><br></pre></td></tr></table></figure></p>
<p>执行脚本 Python   zhihu.py  ,很快就下载完了。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-2cc687edf9c5a1ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>如果想下载所有回答的图片可以使用接口<br> <a href="https://www.zhihu.com/api/v4/questions/310335618/answers?include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Crelevant_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cis_labeled%2Cis_recognized%2Cpaid_info%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cbadge%5B%2A%5D.topics&amp;limit=5&amp;offset=0&amp;platform=desktop&amp;sort_by=default" target="_blank" rel="noopener">https://www.zhihu.com/api/v4/questions/310335618/answers?include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Crelevant_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cis_labeled%2Cis_recognized%2Cpaid_info%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cbadge%5B%2A%5D.topics&amp;limit=5&amp;offset=0&amp;platform=desktop&amp;sort_by=default</a></p>
<p>最后说几个知乎的使用技巧。</p>
<p>知乎复制的时候总会增加版权信息，比如 ：</p>
<p>作者：xxx<br>链接：<a href="https://www.zhihu.com/question/310335618/answer/602970433" target="_blank" rel="noopener">https://www.zhihu.com/question/310335618/answer/602970433</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<p>如果想去掉，打开控制台执行<code>__z_z__.vu = () =&gt; ({Id: ()=&gt;&#39;&#39;})</code> ，再次复制就没有了，当然这样有点麻烦，可以自己写个油猴脚本来自动执行，可以参考我之前写的 <a href="https://mp.weixin.qq.com/s/ksElusubk3s7dKtAqI4HKg" target="_blank" rel="noopener">如何更优雅地看电影/刷剧</a></p>
<p> 有些回答禁止了复制功能，会提示禁止转载，安装simple allow copy 这个扩展 <a href="https://chrome.google.com/webstore/detail/simple-allow-copy/aefehdhdciieocakfobpaaolhipkcpgc" target="_blank" rel="noopener">https://chrome.google.com/webstore/detail/simple-allow-copy/aefehdhdciieocakfobpaaolhipkcpgc</a>  一键搞定，之前文章也介绍过 <a href="https://mp.weixin.qq.com/s/miyrPlKG015GIWvkfpMSkA" target="_blank" rel="noopener">如何搞定某些网站不让复制文字</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-5cb00349db12aad1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>知乎小管家头像地址  <a href="https://pic4.zhimg.com/v2-85b5868ae1ee114c5818d29201aef708_xl.jpg" target="_blank" rel="noopener">https://pic4.zhimg.com/v2-85b5868ae1ee114c5818d29201aef708_xl.jpg</a><br>地址改为<a href="https://pic4.zhimg.com/v2-85b5868ae1ee114c5818d29201aef708_l.jpg" target="_blank" rel="noopener">https://pic4.zhimg.com/v2-85b5868ae1ee114c5818d29201aef708_l.jpg</a> 就是一张100*100的缩略图。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-4d46cae7b45d3ec0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>改为 <a href="https://pic4.zhimg.com/v2-85b5868ae1ee114c5818d29201aef708_r.jpg" target="_blank" rel="noopener">https://pic4.zhimg.com/v2-85b5868ae1ee114c5818d29201aef708_r.jpg</a>  就是原始大图，这个跟微博有点类似，之前也介绍过 <a href="https://mp.weixin.qq.com/s/ql_e44vZFyZ86296O1-mKA" target="_blank" rel="noopener">如何更优雅地使用微博</a><br> <img src="https://upload-images.jianshu.io/upload_images/23152173-0d33e252bec1bfaf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>更多知乎技巧见之前文章 <a href="https://mp.weixin.qq.com/s/sqRgMh4rxFBt5YxNtaa6dw" target="_blank" rel="noopener">那些你可能不知道的知乎奇技淫巧</a></p>
<blockquote>
<p>大家的点赞和在看转发对我非常重要，如果文章对你有帮助还请支持下， 感谢各位！</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法和九宫格图片</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
<tr>
<td>抖音</td>
<td>一键下载无水印抖音视频</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/18/神器！人工智能分离歌曲中的人声和背景音乐/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/18/神器！人工智能分离歌曲中的人声和背景音乐/" itemprop="url">神器！人工智能分离歌曲中的人声和背景音乐</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-18T18:50:41+08:00">
                2020-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第171 篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>之前分享过将视频转GIF<a href="https://mp.weixin.qq.com/s/bGcMIz0dOoDe3quo5G0-Ug" target="_blank" rel="noopener">如何将视频轻松转换为 GIF</a> 和文字转语音 <a href="https://mp.weixin.qq.com/s/klBMLhsQXOEzsWA5a_rpIQ" target="_blank" rel="noopener">如何轻松的将文字转语音</a> ，今天分享几个神器，可以分离音频中的人声和背景音乐。</p>
<p>先准备一首周杰伦的音频《晴天》。</p>
<h3 id="ezstems"><a href="#ezstems" class="headerlink" title="ezstems"></a>ezstems</h3><p><a href="https://ezstems.com/" target="_blank" rel="noopener">https://ezstems.com/</a> 这个网站支持上传YouTube链接或者自己上传文件。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-a24a0d158989734b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>不过免费用户文件限制10MB大小，否则提示不可用。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sorry, file size must be less than <span class="number">10</span>mb. You can increase the upload limit by logging into your dashboard and upgrading your membership.</span><br></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-82809797b68a6948.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>上传音频文件《晴天》后等待一会。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-1c50e317b42930a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>一会就处理完了，直接下载到本地。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-66f4dde65eabee1a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>下载有2个文件：人声 <code>accompaniment.mp3</code> 和背景音乐 <code>vocals.mp3</code> ，可以在微信点击听下效果，还是不错的。</p>
<p><a href="https://mp.weixin.qq.com/s/s1HoJ2mdRi62Z3AW1Hs_Bw" target="_blank" rel="noopener">神器！人工智能分离歌曲中的人声和背景音乐</a></p>
<h3 id="lalal"><a href="#lalal" class="headerlink" title="lalal"></a>lalal</h3><p><a href="https://www.lalal.ai/" target="_blank" rel="noopener">https://www.lalal.ai/</a> 在线上传歌曲就可以免费将语音和背景音乐分离。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-4943d5e2a3dacc32.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br> 分离后直接下载。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-29917d232df8b7e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="moises"><a href="#moises" class="headerlink" title="moises"></a>moises</h3><p><a href="https://moises.ai/" target="_blank" rel="noopener">https://moises.ai/</a> 使用人工智能分离音乐音轨，上传歌曲，然后提取出伴奏音轨和人声音轨<br><img src="https://upload-images.jianshu.io/upload_images/23152173-74c55f9f1fe2fe60.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>用谷歌账号登录后上传音频文件。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-b3ad4fad43d34ef6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>完成后下载人声和伴奏音频文件。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-30fe80a1bcdc0072.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="vocalremover"><a href="#vocalremover" class="headerlink" title="vocalremover"></a>vocalremover</h3><p><a href="https://vocalremover.org/ch/" target="_blank" rel="noopener">https://vocalremover.org/ch/</a> 借助强大的AI算法将歌曲中的声音与音乐分离开来 。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-da69a1722223dad8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br> 上传音频文件，这个不限制10MB 。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-e4cfd8c4d8d0f3a8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>处理时间大概20秒左右。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-035e7b8834c77afc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>直接下载到本地，效果也不错。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-9692e2e1172cee5f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>如果卡住了没出现下载界面，直接用idm下载。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-e2fc6e748d56c903.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这个网站还可以在线修剪歌曲或删除其中的片段。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-8f426bf08c060edd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>之前也分享过类似的 <a href="https://mp.weixin.qq.com/s/713nZZ0qjn4GYZKXKZHlxA" target="_blank" rel="noopener">那些你可能用得上的在线办公神器系列（三）</a>   <a href="https://mp3cut.net/cn/" target="_blank" rel="noopener">https://mp3cut.net/cn/</a> ，  <a href="https://online-audio-converter.com/" target="_blank" rel="noopener">https://online-audio-converter.com/</a>  ，<a href="https://ezgif.com/cut-video，https://ringer.org/zh/" target="_blank" rel="noopener">https://ezgif.com/cut-video，https://ringer.org/zh/</a> ，<a href="https://clideo.com/editor/cut-audio" target="_blank" rel="noopener">https://clideo.com/editor/cut-audio</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-0f98ff689e5a91cd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>上面几个都是国外的网站，下面分享个国内的 团子。</p>
<h3 id="团子"><a href="#团子" class="headerlink" title="团子"></a>团子</h3><p>团子是基于 Python 开源项目 Spleeter <a href="https://github.com/deezer/spleeter" target="_blank" rel="noopener">https://github.com/deezer/spleeter</a>  做的，利用 ai技术从任何音频中分离出伴奏，人声，鼓点，贝斯以及其他乐器<a href="https://dango.ai/" target="_blank" rel="noopener">https://dango.ai/</a> </p>
<p>上传音频等待一会。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-5d4ba58c73467832.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="https://upload-images.jianshu.io/upload_images/23152173-cfb289e7a30730ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>可以试听30秒。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-13abb5c09b6e74c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>下载也只能下30秒。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-27e02b86e8ef8c28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>虽然效果不错，不过下载全部音频得花钱（一首6块钱），还不如使用国内另外一个产品分轨<a href="https://ifengui.com/" target="_blank" rel="noopener">https://ifengui.com/</a> ，它每个月有10分钟免费额度。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-f7da70c587dfef74.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="30.png"></p>
<p>测试下来推荐使用 vocalremover，不过国外网站会比较慢，如果你不介意付费可以使用团子，分轨。</p>
<p>最后分享个音效配乐素材网站 <a href="http://www.aigei.com/" target="_blank" rel="noopener">http://www.aigei.com/</a> ，做视频可能用得上。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-2898ac6a39658c87.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>还有命令行神器 ffmpeg ，比如 提取视频中的音频<br><code>ffmpeg -y -i input.mp4 -vn -codec copy out.m4a</code> ，批量提取<code>for %i in (*.mp4) do ffmpeg -i %i -vn -codec copy %i-out.m4a</code></p>
<p>还有对应的moviepy 库   <code>pip install moviepy</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moviepy.editor <span class="keyword">as</span> mp</span><br><span class="line">clip = mp.AudioFileClip(<span class="string">'lzq.mp4'</span>)</span><br><span class="line">clip.write_audiofile(<span class="string">'lzq2.mp3'</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-266394bcef558991.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>大家的点赞和在看转发对我非常重要，如果文章对你有帮助还请支持下， 感谢各位！</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法和九宫格图片</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
<tr>
<td>抖音</td>
<td>一键下载无水印抖音视频</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/18/如何发一条九宫格图片的朋友圈/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/18/如何发一条九宫格图片的朋友圈/" itemprop="url">如何发一条九宫格图片的朋友圈</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-18T18:48:23+08:00">
                2020-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.2k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第170 篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>关于微信之前写过以下文章，有兴趣可以点击查看：</p>
<p><a href="https://mp.weixin.qq.com/s/Nu8x-dA2IRXtOcjVJuenKA" target="_blank" rel="noopener">如何导出你的微信语音</a></p>
<p><a href="https://mp.weixin.qq.com/s/mMrtMRQm2dMWHyv1c_23Dw" target="_blank" rel="noopener">c 盘空间又满了？微信清理神器帮你释放空间</a></p>
<p><a href="https://mp.weixin.qq.com/s/PTRAREoFRfOJqOUlMCWhbQ" target="_blank" rel="noopener">微信撤回的消息也能看到！</a></p>
<p><a href="https://mp.weixin.qq.com/s/bIE23HBq_sqvLkV18_BlbQ" target="_blank" rel="noopener">如何备份可能被删的公众号文章和网页</a></p>
<p><a href="https://mp.weixin.qq.com/s/_3AeNahwbs8c3UJ0is1t4A" target="_blank" rel="noopener">如何在电脑上登陆多个微信</a></p>
<p><a href="https://mp.weixin.qq.com/s/Xz1m-mqtCcBF_4hmGCpkUQ" target="_blank" rel="noopener">如何发一条空白的朋友圈</a></p>
<p><a href="https://mp.weixin.qq.com/s/eGDO0Y8el_dsEyriCoAgog" target="_blank" rel="noopener">那些你可能不知道的微信奇技淫巧</a></p>
<p><a href="https://mp.weixin.qq.com/s/V8Aj7ekW3xYaBHj7vQW-rw" target="_blank" rel="noopener">一键生成你的微信社交数据报告</a> </p>
<p>你可能在朋友圈看过九宫格图片（把一张图片按照比例分成九份），就像这样的：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-c9d5103a5c7a904f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>还有微博九宫格图 <a href="https://weibo.com/2717930601/JjpKtlUZ9" target="_blank" rel="noopener">https://weibo.com/2717930601/JjpKtlUZ9</a> ：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-47ac8e18d0cf5ed3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这种九宫格图片怎么发的呢？下面用Python搞定它，Python是门很简单实用的语言，即使不做开发工作也可以学习下，比如之前的下载抖音 <a href="https://mp.weixin.qq.com/s/UhLx4cjkfNVsdUyod7te0g" target="_blank" rel="noopener">一键批量下载抖音无水印视频</a>  ，下载公众号文章<a href="https://mp.weixin.qq.com/s/sBK_NkSnS3qTOnajl6Y94Q" target="_blank" rel="noopener">一键下载公众号所有文章，导出文件支持PDF，HTML，Markdown，Excel，chm等格式</a> 都是用的Python，之后我会写一篇如何使用Python来抓取数据，代码非常简单，只要你认识英文字母就会用。</p>
<h3 id="PIL处理图片"><a href="#PIL处理图片" class="headerlink" title="PIL处理图片"></a>PIL处理图片</h3><p>先用pip安装切割图片的库 PIL <code>pip install Pillow</code> ， 然后编辑代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image,ImageSequence,ImageFilter</span><br><span class="line">pic = input(<span class="string">"请输入图片文件名："</span>)</span><br><span class="line">im = Image.open(pic)</span><br><span class="line">width = im.size[<span class="number">0</span>]<span class="comment">//3</span></span><br><span class="line">height = im.size[<span class="number">1</span>]<span class="comment">//3</span></span><br><span class="line">x = <span class="number">0</span></span><br><span class="line">y = <span class="number">0</span></span><br><span class="line">filename = 1#保存的文件名</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        crop = im.crop((x, y, x+width, y+height))</span><br><span class="line">        crop.save(str(filename) + <span class="string">'.jpg'</span>)</span><br><span class="line">        x += width</span><br><span class="line">        filename += <span class="number">1</span></span><br><span class="line">    x = <span class="number">0</span></span><br><span class="line">    y += height</span><br></pre></td></tr></table></figure>
<p>直接命令行执行 python pic.py ，输入图片文件名即可在本地生成9张小图。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-de866ddb51669648.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>还可以将代码打包为exe可执行文件，这样不用安装Python就可以运行了。</p>
<h3 id="pyinstaller-打包exe"><a href="#pyinstaller-打包exe" class="headerlink" title="pyinstaller 打包exe"></a>pyinstaller 打包exe</h3><p>打包用的工具是pyinstaller，先<code>pip install pyinstaller</code>安装它，然后<code>pyinstaller -F pic.py</code>，不过我运行的时候出错了。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-bef623d8df9d23c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">for</span> real_module_name, six_module_name <span class="keyword">in</span> real_to_six_module_name.items():</span><br><span class="line">AttributeError: <span class="string">'str'</span> object has no attribute <span class="string">'items'</span></span><br></pre></td></tr></table></figure>
<p>谷歌了下需要升级库。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">λ pip install -U setuptools</span><br><span class="line">Collecting setuptools</span><br><span class="line">  Downloading https:<span class="comment">//files.pythonhosted.org/packages/6d/ed/52e05469314a266f68d9f251a8c1ab7a21a03327b1724056e3eea654bfd1/setuptools-50.0.3-py3-none-any.whl (784kB)</span></span><br><span class="line">Installing collected packages: setuptools</span><br><span class="line">  Found existing installation: setuptools <span class="number">41.2</span><span class="number">.0</span></span><br><span class="line">    Uninstalling setuptools<span class="number">-41.2</span><span class="number">.0</span>:</span><br><span class="line">      Successfully uninstalled setuptools<span class="number">-41.2</span><span class="number">.0</span></span><br><span class="line">Successfully installed setuptools<span class="number">-50.0</span><span class="number">.3</span></span><br><span class="line"></span><br><span class="line">pip config set global.index-url https:<span class="comment">//pypi.tuna.tsinghua.edu.cn/simple</span></span><br><span class="line"># 更新pip版本</span><br><span class="line">python -m pip install -U pip</span><br><span class="line">λ pip uninstall enum34</span><br><span class="line">Uninstalling enum34<span class="number">-1.1</span><span class="number">.6</span>:</span><br><span class="line">  Would remove:</span><br><span class="line">    d:\python\lib\site-packages\enum34<span class="number">-1.1</span><span class="number">.6</span>.dist-info\*</span><br><span class="line">    d:\python\lib\site-packages\enum\*</span><br><span class="line">Proceed (y/n)? y</span><br><span class="line">  Successfully uninstalled enum34<span class="number">-1.1</span><span class="number">.6</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br></pre></td></tr></table></figure></p>
<p>再次执行<code>pyinstaller -F pic.py</code> 终于成功了，不过生成的exe文件有点大（20多MB，公众号后台回复 <code>朋友圈</code> 获取exe文件），双击exe文件输入文件名就可以运行了。 <a href="https://www.lanzoux.com/iWtJNgcrmxa" target="_blank" rel="noopener">https://www.lanzoux.com/iWtJNgcrmxa</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">60106</span> INFO: Building PKG (CArchive) PKG<span class="number">-00.</span>pkg completed successfully.</span><br><span class="line"><span class="number">60112</span> INFO: Bootloader d:\python\lib\site-packages\PyInstaller\bootloader\Windows<span class="number">-32</span>bit\run.exe</span><br><span class="line"><span class="number">60114</span> INFO: checking EXE</span><br><span class="line"><span class="number">60115</span> INFO: Building EXE because EXE<span class="number">-00.</span>toc is non existent</span><br><span class="line"><span class="number">60115</span> INFO: Building EXE <span class="keyword">from</span> EXE<span class="number">-00.</span>toc</span><br><span class="line"><span class="number">60115</span> INFO: Appending archive to EXE d:\download\dist\pic.exe</span><br><span class="line"><span class="number">60279</span> INFO: Building EXE <span class="keyword">from</span> EXE<span class="number">-00.</span>toc completed successfully.</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-2c8a9177d4287eb4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p> PIL除了切割图片还可以对照片去色。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img = Image.open(<span class="string">"jay.jpg"</span>)</span><br><span class="line">img2 = img.convert(<span class="string">"L"</span>)</span><br><span class="line">img2.save(<span class="string">"jay2.jpg"</span>)</span><br></pre></td></tr></table></figure></p>
<p>去色效果图：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-6fa2d651e6347944.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="mm2.jpg"><br>对照片模糊处理。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">img2 = img.filter(ImageFilter.GaussianBlur(radius=<span class="number">10</span>)) </span><br><span class="line">img2.save(<span class="string">"jay_blur.jpg"</span>)</span><br></pre></td></tr></table></figure></p>
<p>模糊效果图：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-971c456140697933.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img_blur.jpg"></p>
<p>对照片旋转90度。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">img3 = img.rotate(<span class="number">90</span>)</span><br><span class="line">img3.save(<span class="string">"jay_rotate.jpg"</span>)</span><br></pre></td></tr></table></figure></p>
<p>旋转效果图：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-72f02c97b33d2325.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img_rotate.jpg"></p>
<p>对照片翻转。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">img4 = img.transpose(Image.FLIP_LEFT_RIGHT)</span><br><span class="line">img4.save(<span class="string">"jay_transpose.jpg"</span>)</span><br></pre></td></tr></table></figure></p>
<p>翻转效果图，周杰伦七里香几个字翻过来了：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-352e28a74c22e634.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img_transpose.jpg"></p>
<p>照片缩略图。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">size = (<span class="number">120</span>, <span class="number">120</span>)</span><br><span class="line">img5 = img.copy()</span><br><span class="line">img5.thumbnail(size)</span><br><span class="line">img5.save(<span class="string">"jay_thumbnail.jpg"</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-832e7923d326c694.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img_thumbnail.jpg"></p>
<p>除了使用Python 也有在线工具和微信小程序可以生成九宫格图片 <a href="https://www.dute.org/image-clip" target="_blank" rel="noopener">https://www.dute.org/image-clip</a> ，上传图片下载即可。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-ef32661310c20906.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>大家的点赞和在看转发对我非常重要，如果文章对你有帮助还请支持下， 感谢各位！</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法和九宫格图片</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
<tr>
<td>抖音</td>
<td>一键下载无水印抖音视频</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/04/Python一键批量下载抖音无水印视频/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/04/Python一键批量下载抖音无水印视频/" itemprop="url">Python一键批量下载抖音无水印视频</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-04T19:54:51+08:00">
                2020-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.3k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第169 篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>关于下载视频之前写过 <a href="https://mp.weixin.qq.com/s/3rB23e9L55hDBaPLDu6WMg" target="_blank" rel="noopener">如何轻松下载腾讯/微博/优酷/爱奇艺/b站等全网视频？ </a> ， <a href="https://mp.weixin.qq.com/s/5InOxKmi9eXk33G_8N3byQ" target="_blank" rel="noopener">那些你可能不知道的视频下载奇技淫巧</a></p>
<p>抖音视频也可以直接通过idm来下载，先在抖音复制视频链接。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-b81433ac93df58fd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>用谷歌浏览器打开视频链接后点击视频右上角的idm（公众号后台回复 <code>idm</code>获取软件 ）就能下载了 。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-df88680cfaa29bbb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>不过这样下载的视频带有抖音的标志，如果想去除这个水印，下面分享个简单的方法。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-08eacd2883d03b2b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>打开浏览器控制台使用手机模式访问会跳转到   <a href="https://www.iesdouyin.com/share/video/6867075534275366148/" target="_blank" rel="noopener">https://www.iesdouyin.com/share/video/6867075534275366148/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-077ae515ffcb6f96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>可以看到请求接口 <a href="https://www.iesdouyin.com/web/api/v2/aweme/iteminfo/?item_ids=6867075534275366148" target="_blank" rel="noopener">https://www.iesdouyin.com/web/api/v2/aweme/iteminfo/?item_ids=6867075534275366148</a> ，返回值play_addr里就有播放地址url_list  <a href="https://aweme.snssdk.com/aweme/v1/playwm/?video_id=v0300fff0000bt6c070r0ed42bvp5uo0&amp;ratio=720p&amp;line=0" target="_blank" rel="noopener">https://aweme.snssdk.com/aweme/v1/playwm/?video_id=v0300fff0000bt6c070r0ed42bvp5uo0&amp;ratio=720p&amp;line=0</a><br>这个地址是有水印的，将地址里的playwm改为play就是无水印播放地址了。</p>
<p>下载后播放对比下，左侧的抖音水印没了。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-18d0e20e0d017604.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>无水印视频还少了3秒 ，因为视频结尾的一小段 <code>来抖音，发现更多创作者</code> 也没了。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-7e3ed8f04e4716fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>当然这样下载无水印视频有点麻烦，一般小白还不会，Python 可以帮你一键下载。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">            <span class="string">'accept'</span>: <span class="string">'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8'</span>,</span><br><span class="line">            <span class="string">'accept-encoding'</span>: <span class="string">'gzip, deflate, br'</span>,</span><br><span class="line">            <span class="string">'accept-language'</span>: <span class="string">'zh-CN,zh;q=0.9'</span>,</span><br><span class="line">            <span class="string">'cache-control'</span>: <span class="string">'max-age=0'</span>,</span><br><span class="line">            <span class="string">'upgrade-insecure-requests'</span>: <span class="string">'1'</span>,</span><br><span class="line">            <span class="string">'user-agent'</span>: <span class="string">'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Mobile Safari/537.36'</span></span><br><span class="line">        &#125;</span><br><span class="line">domains = [<span class="string">'www.douyin.com'</span>,</span><br><span class="line">           <span class="string">'v.douyin.com'</span>,</span><br><span class="line">           <span class="string">'www.snssdk.com'</span>,</span><br><span class="line">           <span class="string">'www.amemv.com'</span>,</span><br><span class="line">           <span class="string">'www.iesdouyin.com'</span>,</span><br><span class="line">           <span class="string">'aweme.snssdk.com'</span>]</span><br><span class="line"></span><br><span class="line">url = input(<span class="string">"请输入你要去水印的抖音短视频链接："</span>)</span><br><span class="line">#url =' https://v.douyin.com/oXbjfe/'</span><br><span class="line">response = requests.get(url,headers=headers,allow_redirects=False)</span><br><span class="line">true_url =response.headers[<span class="string">'location'</span>]</span><br><span class="line">#print(true_url)</span><br><span class="line">parse_url = urlparse(true_url)</span><br><span class="line"><span class="keyword">if</span> parse_url.netloc not <span class="keyword">in</span> domains:</span><br><span class="line">    raise Exception(<span class="string">"无效的链接"</span>)</span><br><span class="line"></span><br><span class="line">vid = re.findall(r<span class="string">'\/share\/video\/(\d*)'</span>, parse_url.path)[<span class="number">0</span>]</span><br><span class="line">#print(vid)</span><br><span class="line">response = requests.get(<span class="string">'https://www.iesdouyin.com/web/api/v2/aweme/iteminfo/?item_ids='</span>+str(vid))</span><br><span class="line">result = response.json()</span><br><span class="line">#print(result)</span><br><span class="line">item = result.get(<span class="string">"item_list"</span>)[<span class="number">0</span>]</span><br><span class="line">author = item.get(<span class="string">"author"</span>).get(<span class="string">"nickname"</span>)</span><br><span class="line">mp4 = item.get(<span class="string">"video"</span>).get(<span class="string">"play_addr"</span>).get(<span class="string">"url_list"</span>)[<span class="number">0</span>]</span><br><span class="line">cover = item.get(<span class="string">"video"</span>).get(<span class="string">"cover"</span>).get(<span class="string">"url_list"</span>)[<span class="number">0</span>]</span><br><span class="line">mp4 = mp4.replace(<span class="string">"playwm"</span>, <span class="string">"play"</span>)</span><br><span class="line">res = requests.get(mp4, headers=headers, allow_redirects=True)</span><br><span class="line">mp4url = res.url#http://v5-dy-d.ixigua.com/aa21024d9f51deaa2e8ce9ba4f6447f5/5f4cb46c/video/n/tosedge-tos-agsy-ve-0015/ed75a5dbbddf483a8c1382162d31d52f/?a=1128&amp;br=2016&amp;bt=672&amp;cr=0&amp;cs=0&amp;cv=1&amp;dr=0&amp;ds=3&amp;er=&amp;l=202008311526410101980621631104B96C&amp;lr=&amp;mime_type=video_mp4&amp;qs=0&amp;rc=ajM7azNqOXk4dTMzOmkzM0ApOzY6NjZoZWQ6N2UzNjlmNmdpYi0zbnEvMi5fLS1iLS9zczUzLi40NmBhXjEyLzAzYWA6Yw%3D%3D&amp;vl=&amp;vr=</span><br><span class="line">#print(mp4url)</span><br><span class="line">desc = item.get(<span class="string">"desc"</span>)</span><br><span class="line">mp3 = item.get(<span class="string">"music"</span>).get(<span class="string">"play_url"</span>).get(<span class="string">"url_list"</span>)[<span class="number">0</span>]</span><br><span class="line">#name = input("===&gt;正在下载保存视频,请输入视频名称：")</span><br><span class="line">video = requests.get(url=mp4url, headers=headers)</span><br><span class="line">audio = requests.get(url=mp3, headers=headers)</span><br><span class="line">data = dict()</span><br><span class="line">data[<span class="string">'mp3'</span>] = mp3</span><br><span class="line">data[<span class="string">'mp4'</span>] = mp4url</span><br><span class="line">data[<span class="string">'cover'</span>] = cover</span><br><span class="line">data[<span class="string">'nickname'</span>] = author</span><br><span class="line">data[<span class="string">'desc'</span>] = desc</span><br><span class="line">data[<span class="string">'duration'</span>] = item.get(<span class="string">"duration"</span>)</span><br><span class="line">#print(data)</span><br><span class="line"><span class="keyword">with</span> open(desc+<span class="string">".mp4"</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f, open(desc+<span class="string">".mp3"</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f2:</span><br><span class="line">    f.write(video.content)</span><br><span class="line">    f.close()</span><br><span class="line">    f2.write(audio.content)</span><br><span class="line">    f2.close()</span><br><span class="line">    print(<span class="string">"===&gt;音频和视频下载完成"</span>)</span><br></pre></td></tr></table></figure>
<p>直接执行脚本 python douyin.py ，很快下载好了。<br> <img src="https://upload-images.jianshu.io/upload_images/23152173-f40f568d1c0e188f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>视频对应的mp3音频<a href="http://p9-dy.byteimg.com/obj/ies-music/6867075567041121031.mp3也下载了。" target="_blank" rel="noopener">http://p9-dy.byteimg.com/obj/ies-music/6867075567041121031.mp3也下载了。</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-033a691927734b6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>除了Python已经有很多不错的软件可以很方便的下载无水印抖音视频了，下面分享几个好用的。</p>
<p>这个软件（公众号后台回复 <code>抖音</code>获取软件）<a href="https://www.lanzoux.com/iTKnwgbujgh支持抖音，皮皮虾，快手，火山，微视等平台视频的批量下载，还支持采集视频。" target="_blank" rel="noopener">https://www.lanzoux.com/iTKnwgbujgh支持抖音，皮皮虾，快手，火山，微视等平台视频的批量下载，还支持采集视频。</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-5510ac0165616198.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-afe2d7d80a25e9d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>输入抖音视频链接地址 <a href="https://v.douyin.com/JkaChFt/" target="_blank" rel="noopener">https://v.douyin.com/JkaChFt/</a>  ，点击解析可以看到视频标题和下载链接。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-bf0a68e2df8b6cf1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>还可以输入抖音作者主页地址 <a href="https://v.douyin.com/JkaaoTH/" target="_blank" rel="noopener">https://v.douyin.com/JkaaoTH/</a> ，解析可以获取作者视频列表。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-b98bcfb40e27c605.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>然后右键下载，很快下载完了。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-704bc4003a28828e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>播放看看，左上方的抖音水印没了。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-ceea74f9427544cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>另外一个软件 抖音信息解读  <a href="https://www.lanzoux.com/iUj4ng8st0b" target="_blank" rel="noopener">https://www.lanzoux.com/iUj4ng8st0b</a> ，可以搜索列出作者600多个视频（包含作者头像，视频标题，视频地址，点赞数，评论数，分享数，音乐地址，无水印链接等），在右侧可以选择视频下载。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-26c284e678b4afe6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>分享个网站 抖音排行榜 <a href="https://www.jxpie.com/#" target="_blank" rel="noopener">https://www.jxpie.com/#</a>  <a href="https://kolranking.com/" target="_blank" rel="noopener">https://kolranking.com/</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-d055b1c3cbd2fa44.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>大家的点赞和在看转发对我非常重要，如果文章对你有帮助还请支持下， 感谢各位！</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
<tr>
<td>抖音</td>
<td>一键下载无水印抖音视频</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/04/如何根据台词找到对应电影片段/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/04/如何根据台词找到对应电影片段/" itemprop="url">如何根据台词找到对应电影片段</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-04T19:53:42+08:00">
                2020-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  996 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第168 篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>有时候看到一句熟悉的台词，却不知出自哪部电影，或者想给喜欢的台词配个图，又懒得重看整部电影截图，如果能根据台词搜到电影，还能找到对应的时间点就好了，正好下面分享的几个网站能满足你。 </p>
<h3 id="subzin"><a href="#subzin" class="headerlink" title="subzin"></a>subzin</h3><p>直接在 <a href="http://www.subzin.com/" target="_blank" rel="noopener">http://www.subzin.com/</a> 输入台词, 它会告诉你在哪部电影/电视剧中出现过，还会给出台词出现的时间和上下文，你甚至可以用来学单词和俚语的具体情景用法，让自己的英语表达更地道。</p>
<p>比如奥斯卡电影《阿甘正传》里的经典台词： Life was like a box of chocolate ，意思是人生就像一盒巧克力，你永远不知道会尝到哪种滋味。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-50f6f3dbdb5350c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>搜索下，第一个就是电影 《阿甘正传》。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-ddacb2e6dd6136ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>点击后可以看到台词在电影3分38秒出现，上一句台词是<code>My mama always said</code> 。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-2dddb98556f430f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>如果没找到还有类似的网站 <a href="http://www.quodb.com/" target="_blank" rel="noopener">http://www.quodb.com/</a> ，<a href="https://www.whatismymovie.com/" target="_blank" rel="noopener">https://www.whatismymovie.com/</a>  ， <a href="https://getyarn.io/" target="_blank" rel="noopener">https://getyarn.io/</a>  （这个搜索到的视频片段还能直接下载）。</p>
<p>另外推荐 <a href="https://www.tunefind.com/" target="_blank" rel="noopener">https://www.tunefind.com/</a> ，这是个音乐搜索网站，可帮你查找影视剧中的音乐，不光会列出每一集里都有哪些音乐，还会告诉你每首歌出现在哪个场景。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-1644afba9cb58243.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="找台词"><a href="#找台词" class="headerlink" title="找台词"></a>找台词</h3><p>subzin虽然很强大，无奈不支持中文，<a href="http://zhaotaici.cn/" target="_blank" rel="noopener">http://zhaotaici.cn/</a> 和 <a href="http://findmovie.wang/" target="_blank" rel="noopener">http://findmovie.wang/</a> ，<a href="http://33.agilestudio.cn/" target="_blank" rel="noopener">http://33.agilestudio.cn/</a> 可以支持中文搜索。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-c6f3d7b3a9f71f5f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>点开上下文可以看到前后台词和出现的时间点。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-0085a0658031882b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>之前很火的那句“老许，你要老婆不要”也能搜到，是来自1982年谢晋电影三部曲之《牧马人》 <a href="https://www.bilibili.com/video/av82588687" target="_blank" rel="noopener">https://www.bilibili.com/video/av82588687</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-ff180d920f91c961.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="https://upload-images.jianshu.io/upload_images/23152173-78df35a7a199f4b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>这句台词出现在电影43分钟。<br> <img src="https://upload-images.jianshu.io/upload_images/23152173-317188ed6fd1c5d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="https://upload-images.jianshu.io/upload_images/23152173-41fd5535b6edd1a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="字幕库"><a href="#字幕库" class="headerlink" title="字幕库"></a>字幕库</h3><p>如果你想下载整部电影的台词推荐字幕库 ，在网站<a href="http://www.zimuku.la/" target="_blank" rel="noopener">http://www.zimuku.la/</a>  搜索 <code>阿甘正传</code> 可以找到整部电影字幕，类似的网站还有  <a href="https://secure.assrt.net/" target="_blank" rel="noopener">https://secure.assrt.net/</a> 。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-b21d1c2a40663025.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>英文电影可以在台词社看完整文字版 <a href="https://www.taicishe.com/movie-forrest-gump-1994" target="_blank" rel="noopener">https://www.taicishe.com/movie-forrest-gump-1994</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-8278663c265dc778.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="台词拼接"><a href="#台词拼接" class="headerlink" title="台词拼接"></a>台词拼接</h3><p>如果你想拼接电影台词推荐 <a href="http://join-screenshots.zhanghai.me/" target="_blank" rel="noopener">http://join-screenshots.zhanghai.me/</a> 或者<a href="https://www.yoo.la/#/" target="_blank" rel="noopener">https://www.yoo.la/#/</a> ，<a href="http://screenshots.hpday.cn/" target="_blank" rel="noopener">http://screenshots.hpday.cn/</a> ，高清电影截图可以在<a href="https://film-grab.com/" target="_blank" rel="noopener">https://film-grab.com/</a> 找，这个网站每张电影截图都是人工采集下来的。</p>
<p>上传2张电影台词截图。<br><img src="https://upload-images.jianshu.io/upload_images/17817191-27c0b8fc2aba6f37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>拼接效果：<br><img src="https://upload-images.jianshu.io/upload_images/17817191-8394fe3102b61abe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>经常有小伙伴在后台问电影，分享2个比较全的电影网站：电影狗<a href="http://www.dianyinggou.com/" target="_blank" rel="noopener">http://www.dianyinggou.com/</a> 和片库 <a href="https://www.pianku.tv/，如果想找百度网盘里的电影，推荐之前文章" target="_blank" rel="noopener">https://www.pianku.tv/，如果想找百度网盘里的电影，推荐之前文章</a> <a href="https://mp.weixin.qq.com/s/0uOyrcz0KP-qZhCNNCELhw" target="_blank" rel="noopener">2020 最全百度网盘搜索，找电影资源不再愁</a>  ，<a href="https://mp.weixin.qq.com/s/leF2Dn9XW6sIp1SkPBFthw" target="_blank" rel="noopener">搜不到你想看的书/音乐/电影？一个油猴脚本帮你搞定</a> ，<a href="https://mp.weixin.qq.com/s/ksElusubk3s7dKtAqI4HKg" target="_blank" rel="noopener">如何更优雅地看电影/刷剧</a>  ，只要方法用对，应该没有找不到的电影/电视剧。</p>
<blockquote>
<p>大家的点赞和在看转发对我非常重要，如果文章对你有帮助还请支持下， 感谢各位！</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/04/发福利了，小伙伴们来领现金红包/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/04/发福利了，小伙伴们来领现金红包/" itemprop="url">发福利了，小伙伴们来领现金红包</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-04T19:51:30+08:00">
                2020-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  745 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一晃2020年8个月都快过完了，持续在公众号每周更新原创文章也一年多了，现在已经有167篇了（我都佩服自己坚持这么久），我将我的文章都下载好了，需要的小伙伴可以在后台回复 <code>公众号</code>获取，详情见之前文章 <a href="https://mp.weixin.qq.com/s/sBK_NkSnS3qTOnajl6Y94Q" target="_blank" rel="noopener">一键下载公众号所有文章，导出文件支持PDF，HTML，Markdown，Excel，chm等格式</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-d19253d9b10259b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="https://upload-images.jianshu.io/upload_images/23152173-a74426e6d94924a9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>公众号每周更新2-3篇原创文章，一般是早上8点20发，没有标题党，但愿没有浪费你时间，还能对你有所帮助。</p>
</blockquote>
<p>下面说重点，对这个月精选留言（就是能在文章末尾出现的留言）最多的10个小伙伴（微信后台统计）发福利，每人18.8元现金红包（别嫌少哈，之后会增加的），加我微信领取。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-5d1296c15baf1a61.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>另外在本文文末留言评论，说说你对苏生不惑的建议或者意见，点赞前10每人8.8元红包，截止时间8月30号20点，还有在公众号后台回复<code>支付宝</code>领取支付宝红包，先到先得哈。</p>
<p>另外再发个抽奖，在公众号后台回复 <code>抽奖</code>进入小程序抽奖，中奖后可直接提现到微信钱包。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-b9c830705ab98c09.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>之后每个月月末都会这样发福利，如果公众号收益增加了，福利也会越来越大，所以我偶尔发的广告也请大家点击支文章持下。</p>
<p>大家在后台的留言我都会回复的（可能不及时，因为白天要上班）。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-8d3c44e57aa12fd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>如果没有收录你发的关键词还可以打开公众号右上角的搜索按钮。<br><img src="https://upload-images.jianshu.io/upload_images/17817191-f3fdb4581c457c2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>输入 <code>去logo</code> 就能找到这篇文章<a href="https://mp.weixin.qq.com/s/ksElusubk3s7dKtAqI4HKg" target="_blank" rel="noopener">如何更优雅地看电影/刷剧</a> ，里面有详细说明如何去除腾讯优酷和爱奇艺视频上方的logo。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-f506225fefda4e4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>另外每篇文章开头也有个搜索。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-aa84bc3ed0a3a588.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>点击以后也会进入搜索界面，它会列出我设置的4个搜索词，可以直接点击列出的词搜索，或者自己输入关键词后搜索。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-d1aed21628a44e1d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>当然最好是在文章下留言，这个提醒会强点，我会及时回复。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-d8d30dc490d9f29a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>如果有需要可以加我微信交流。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-fe2c352b8ee985cf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="风.png"></p>
<p>再推荐下之前整理的文章列表：</p>
<p> <a href="https://mp.weixin.qq.com/s/Lm4l_aPCSXymUGcqO_Yf3g" target="_blank" rel="noopener">2019 年公众号 苏生不惑 近百篇原创文章整理</a></p>
<p><a href="https://mp.weixin.qq.com/s/pDF2YWRL1H4J-kbGeOI3mw" target="_blank" rel="noopener">关于公众号搜索和专辑</a></p>
<p><a href="https://mp.weixin.qq.com/s/nX0KtON_0ORGFAxw0m3g3g" target="_blank" rel="noopener">关于 苏生不惑 公众号</a></p>
<p><a href="http://mp.weixin.qq.com/mp/homepage?__biz=MzIyMjg2ODExMA==&amp;hid=1&amp;sn=e7478e21fb95dd2d2b39b7d00c344da8&amp;scene=18#wechat_redirect" target="_blank" rel="noopener">精选文章</a></p>
<p>在公众号菜单里的<code>历史文章</code>也可以浏览我发过的所有文章。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-efa574eb9fde7bea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>最后说下，由于现在公众号信息流乱序了，已经不按时间倒序来展示你关注的公众号更新，如果不想错过我的文章，麻烦将本公众号设置为<code>星标</code>，这样就不用在你关注的那么多公众号里翻了 。<br><img src="https://upload-images.jianshu.io/upload_images/17817191-83ad87d68fc63092.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新，欢迎加入"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/28/Python一键下载公众号所有文章，导出文件支持PDF，HTML，Markdown，Excel，chm等格式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/28/Python一键下载公众号所有文章，导出文件支持PDF，HTML，Markdown，Excel，chm等格式/" itemprop="url">Python一键下载公众号所有文章，导出文件支持PDF，HTML，Markdown，Excel，chm等格式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T19:44:20+08:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第167 篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>关于备份之前写过以下文章：</p>
<p><a href="https://mp.weixin.qq.com/s/AUS5oCukv8hIFZIjO2Drjg" target="_blank" rel="noopener">再谈备份微博</a></p>
<p><a href="https://mp.weixin.qq.com/s/PlkPDmK2SUdQT59CzOJFMA" target="_blank" rel="noopener">一键备份微博并导出生成PDF，顺便用Python分析微博账号数据</a></p>
<p><a href="https://mp.weixin.qq.com/s/BddM3RzStg0Qos9cSrQXIw" target="_blank" rel="noopener">再谈备份网页和公众号文章</a></p>
<p><a href="https://mp.weixin.qq.com/s/bIE23HBq_sqvLkV18_BlbQ" target="_blank" rel="noopener">如何备份可能被删的公众号文章和网页</a></p>
<p><a href="https://mp.weixin.qq.com/s/l2bQJk1qjb6IzroODBpoOg" target="_blank" rel="noopener">想看的公众号文章被删了怎么办？</a></p>
<p>上面写的备份公众号方法都是单篇备份，如果你想备份某个公众号的所有文章，就有点太麻烦了，所以今天分享的是用Python一键备份某个公众号的所有文章，这里就以我自己的<code>公众号苏生不惑</code>为例了，原理就是通过抓包抓取微信客户端的接口，用Python请求微信接口获取公众号文章链接再下载。</p>
<h3 id="charles-抓包"><a href="#charles-抓包" class="headerlink" title="charles 抓包"></a>charles 抓包</h3><p>常见的抓包工具有Fiddler，charles，这里用的charles，先去官网 <a href="https://www.charlesproxy.com/download" target="_blank" rel="noopener">https://www.charlesproxy.com/download</a> 下载软件,然后打开微信客户端找到公众号，进入文章列表可以看到发过的文章。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-91217817ab889f5d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>不过charles没安装证书前获取不到https接口数据，显示unknown。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-d6323050d5a76412.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>安装证书后在 proxy-&gt;ssl proxying settings 添加域名和host 。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-f12ade2adea0aaf2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>再次抓取可以看到公众号文章接口数据了。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-bc7af8b0553b9c8d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>公众号文章的接口地址 <a href="https://mp.weixin.qq.com/mp/profile_ext?action=getmsg&amp;__biz=MjM5ODIzNDEx&amp;f=json&amp;offset=25&amp;count=10&amp;is_ok=1&amp;scene=124&amp;uin=MTU0MTQzNj&amp;key=f57423" target="_blank" rel="noopener">https://mp.weixin.qq.com/mp/profile_ext?action=getmsg&amp;__biz=MjM5ODIzNDEx&amp;f=json&amp;offset=25&amp;count=10&amp;is_ok=1&amp;scene=124&amp;uin=MTU0MTQzNj&amp;key=f57423</a> ，参数比较多，其中有用的参数 __biz 是用户和公众号之间的唯一id，uin是用户的id，这个是不变的，key 是请求的秘钥，一段时间就会失效，offset 是偏移量，count 是每次请求的条数，返回值结构如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">"ret"</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="string">"errmsg"</span>: <span class="string">"ok"</span>,</span><br><span class="line">	<span class="string">"msg_count"</span>: <span class="number">10</span>,信息条数</span><br><span class="line">	<span class="string">"can_msg_continue"</span>: <span class="number">1</span>,是否还可以继续获取，<span class="number">1</span>代表可以。<span class="number">0</span>代表不可以，也就是最后一页</span><br><span class="line">	<span class="string">"general_msg_list"</span>: <span class="string">"&#123;\"list\":[&#123;\"comm_msg_info\":&#123;\"id\":1000000182,\"type\":49,\"datetime\":1585702800,\"fakeid\":\"2398234112\",\"status\":2,\"content\":\"\"&#125;,\"app_msg_ext_info\":&#123;\"title\":\"张国荣音乐\/演唱会\/电影全集网盘分享\",\"digest\":\"#17宠爱张国荣#\",\"content\":\"\",\"fileid\":0,\"content_url\":\"http:\/\/mp.weixin.qq.com\/s?__biz=MjM5ODIzNDExMg==&amp;amp;mid=2257484715&amp;amp;idx=1&amp;amp;sn=2fab0a11d62090d5e30e03e334bce636&amp;amp;chksm=a5b70ac492c083d275b6e15f0de85b8baf488ebb76e5429b08f40cdc53ab6e27b0ce5474fb30&amp;amp;scene=27#wechat_redirect\",\"source_url\":\"\",\"cover\":\"http:\/\/mmbiz.qpic.cn\/mmbiz_jpg\/pchiblEh3tErdgYu06FFVuvnKr9aAkddJLB7pgNhaiav0aYGQKJI0Dwn0kpT4wnmQkIglGH1Nciam5IThX19ibyEag\/0?wx_fmt=jpeg\",\"subtype\":9,\"is_multi\":0,\"multi_app_msg_item_list\":[],\"author\":\"苏生\",\"copyright_stat\":100,\"duration\":0,\"del_flag\":1,\"item_show_type\":0,\"audio_fileid\":0,\"play_url\":\"\",\"malicious_title_reason_id\":0,\"malicious_content_type\":0&#125;&#125;]&#125;"</span>, </span><br><span class="line">	<span class="string">"next_offset"</span>: <span class="number">37</span>,</span><br><span class="line">	<span class="string">"video_count"</span>: <span class="number">1</span>,</span><br><span class="line">	<span class="string">"use_video_tab"</span>: <span class="number">1</span>,</span><br><span class="line">	<span class="string">"real_type"</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="string">"home_page_list"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可以看到返回数据包括文章标题titile、摘要digest、文章地址content_url、阅读原文地址source_url、封面图cover、作者author ，只要抓取这些有用的数据就行了。</p>
<h3 id="python-抓取公众号文章"><a href="#python-抓取公众号文章" class="headerlink" title="python 抓取公众号文章"></a>python 抓取公众号文章</h3><p>上面分析了接口参数和返回数据，开始用Python请求微信接口就是了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests,pdfkit,json,time,datetime,os</span><br><span class="line">biz = 'MzU1OTgyMzQzNw=='#随公众号改变</span><br><span class="line">uin = 'NjQ3OTQwMT'#不变</span><br><span class="line">key = <span class="string">'54ce6b15dc70fa9428deb6f18a00ac92db141f743dfe6d5a800bf2e99d82c2c372af771b204ec1db1f6f769ab66ad7c0294db04862aecbd043c24ab4be675cf55bcb2316b384f5612fb8a73daee911389bf94d6ed0fae9285e5996b831da8ea9f1af341f0314a937fd4c840edc1986fc74961857388588e83567137c42993a80'</span></span><br><span class="line">def parse(offset, biz, uin, key):</span><br><span class="line">    # url前缀</span><br><span class="line">    url = <span class="string">"https://mp.weixin.qq.com/mp/profile_ext"</span></span><br><span class="line">    # 请求头</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36 QBCore/4.0.1301.400 QQBrowser/9.0.2524.400 Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2875.116 Safari/537.36 NetType/WIFI MicroMessenger/7.0.5 WindowsWechat"</span></span><br><span class="line">    &#125;</span><br><span class="line">    proxies = &#123;</span><br><span class="line">        <span class="string">'https'</span>: None,</span><br><span class="line">        <span class="string">'http'</span>: None,</span><br><span class="line">    &#125;</span><br><span class="line">    # 重要参数https://mp.weixin.qq.com/mp/profile_ext?action=getmsg&amp;__biz=MjM5ODIzNDExMg==&amp;f=json&amp;offset=48&amp;count=10&amp;is_ok=1&amp;scene=124&amp;uin=MTU0MTQzNjQwMw%3D%3D&amp;key=a42654d5f06828b5d9e40deca0ea5f73004fecbf9ae4cfe0d37653465b623e26d82d0948a73d3cdf4fffd5df19bebafed06815f22f05bac0e5679625c86bb429885529cea1973bfb4d9f18481e624a0cea7cd12932fb55e7ed892ccd6dcda141737cf5ed9811d477cd90cdf4d8371a8b1bdd63de15e193787fc75f186cdf41b5&amp;pass_ticket=FjDlSKDCqgdl0E5WNMPJLuBO3eeqP%2FdrlM1Q8%2FzEHxisVbm7ZVemLp6VeXsrLd0i&amp;wxtoken=&amp;appmsg_token=1074_NFjOFA%252FiWPMoGcRLiG7SzMUc-NoJp7QhKSYmYw~~&amp;x5=0&amp;f=json</span><br><span class="line">    param = &#123;</span><br><span class="line">        <span class="string">'action'</span>: <span class="string">'getmsg'</span>,</span><br><span class="line">        <span class="string">'__biz'</span>: biz,</span><br><span class="line">        <span class="string">'f'</span>: <span class="string">'json'</span>,</span><br><span class="line">        <span class="string">'offset'</span>: offset,</span><br><span class="line">        <span class="string">'count'</span>: <span class="string">'10'</span>,</span><br><span class="line">        <span class="string">'is_ok'</span>: <span class="string">'1'</span>,</span><br><span class="line">        <span class="string">'scene'</span>: <span class="string">'124'</span>,</span><br><span class="line">        <span class="string">'uin'</span>: uin,</span><br><span class="line">        <span class="string">'key'</span>: key,</span><br><span class="line">        <span class="string">'wxtoken'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'x5'</span>: <span class="string">'0'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    # 发送请求，获取响应</span><br><span class="line">    response = requests.get(url, headers=headers, params=param, proxies=proxies)</span><br><span class="line">    response_dict = response.json()</span><br><span class="line">    print(response_dict)</span><br><span class="line">    next_offset = response_dict[<span class="string">'next_offset'</span>]</span><br><span class="line">    can_msg_continue = response_dict[<span class="string">'can_msg_continue'</span>]</span><br><span class="line">    general_msg_list = response_dict[<span class="string">'general_msg_list'</span>]</span><br><span class="line">    data_list = json.loads(general_msg_list)[<span class="string">'list'</span>]</span><br><span class="line">    htmls = []</span><br><span class="line">    # print(data_list)</span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> data_list:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            # 文章发布时间</span><br><span class="line">            date = time.strftime(<span class="string">'%Y-%m-%d'</span>, time.localtime(data[<span class="string">'comm_msg_info'</span>][<span class="string">'datetime'</span>]))</span><br><span class="line">            msg_info = data[<span class="string">'app_msg_ext_info'</span>]</span><br><span class="line">            #原创</span><br><span class="line">            <span class="keyword">if</span> msg_info[<span class="string">'copyright_stat'</span>] == <span class="number">11</span>:</span><br><span class="line">                # 文章标题</span><br><span class="line">                title = msg_info[<span class="string">'title'</span>]</span><br><span class="line">                # 文章链接</span><br><span class="line">                url = msg_info[<span class="string">'content_url'</span>]</span><br><span class="line">                #文章摘要digest</span><br><span class="line">                #文章封面cover</span><br><span class="line"></span><br><span class="line">                res = requests.get(url,proxies=&#123;<span class="string">'http'</span>: None,<span class="string">'https'</span>: None&#125;,verify=False, headers=headers)</span><br><span class="line">                content = res.text.replace(<span class="string">'data-src'</span>, <span class="string">'src'</span>)</span><br><span class="line">                filename=str(int(time.time()))+<span class="string">'.html'</span></span><br><span class="line">                #生成HTML文件</span><br><span class="line">                #htmls.append(filename)</span><br><span class="line">                <span class="keyword">with</span> open(date+<span class="string">'_'</span>+title+<span class="string">'.html'</span>, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                    f.write(content)</span><br><span class="line">                #生成Excel</span><br><span class="line">                #with open('wechat2.csv', 'a+', encoding='gbk') as f:</span><br><span class="line">                #    f.write(title.replace(',', '，')+','+msg_info['digest'].replace(',', '，')+',' + msg_info['cover'].replace(',', '，') + ',' +url.replace(',', '，')+','+str(date)+ '\n')</span><br><span class="line">                #生成markdown</span><br><span class="line">                #with open('wechat.md', 'a+', encoding='utf-8') as f:</span><br><span class="line">                #    f.write('[&#123;&#125;]'.format(title) + '(&#123;&#125;)'.format(url)+ '\n')</span><br><span class="line">                #生成PDF</span><br><span class="line">                #try:</span><br><span class="line">                #    pdfkit.from_string(content,'./' + date + '_' + title.replace(' ', '')+'.pdf')</span><br><span class="line">                #except Exception as err:</span><br><span class="line">                #    print(err)</span><br><span class="line">                # 部分文章标题含特殊字符，不能作为文件名</span><br><span class="line">                    #f = datetime.datetime.now().strftime('%Y%m%d%H%M%S') + '.pdf'</span><br><span class="line">                    #pdfkit.from_string(content,f)</span><br><span class="line">                    # 自己定义存储路径（绝对路径）</span><br><span class="line">                #finally:</span><br><span class="line">                #    os.remove(filename)</span><br><span class="line">                #pdfkit.from_url(url, './' + date + title + '.pdf') #图片获取不到</span><br><span class="line">                print(url + title + date + <span class="string">'成功'</span>)</span><br><span class="line">        except Exception <span class="keyword">as</span> err:</span><br><span class="line">            print(err)</span><br><span class="line">    #try:</span><br><span class="line">        #pdfkit.from_file(htmls,'公众号文章备份.pdf')</span><br><span class="line">    #except:</span><br><span class="line">    #    pass</span><br><span class="line">    <span class="keyword">if</span> can_msg_continue == <span class="number">1</span>:</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        parse(next_offset,biz,uin,key)</span><br><span class="line">        <span class="keyword">return</span> True</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'爬取完毕'</span>)</span><br><span class="line">        <span class="keyword">return</span> False</span><br><span class="line"></span><br><span class="line">parse(<span class="number">0</span>,biz,uin,key)</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-834294997521f48b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这里只抓取原创文章，我的公众号有160多篇原创，生成HTML文件2分钟就搞定。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-f3e04f4805eba9df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>用谷歌浏览器打开就能看。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-54e029f1ac7012e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>生成的HTML文件还可以转成chm格式，需要先安装软件 Easy CHM，这是一款强大的CHM电子书或CHM帮助文件的快速制作工具 <a href="http://www.etextwizard.com/cn/easychm.html" target="_blank" rel="noopener">http://www.etextwizard.com/cn/easychm.html</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-6cdab3313db44bdb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>左侧是文章标题，右侧是文章内容，看起来非常方便。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-2fac2bea9b8e365e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>然后编译成一个chm文件，这样直接双击文件就能打开浏览了。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-0b0b6f20624f493a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-805d067031574009.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>还有含有文章标题和链接的 markdown  文件，关于markdown之前文章介绍过 <a href="https://mp.weixin.qq.com/s/K5-1y2RRcgAu9sRsxKfZpQ" target="_blank" rel="noopener">用 Markdown 来写简历和 PPT</a>。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-151a8b5944557392.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>excel文件格式也有。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-5b734bbb2713b8a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>生成HTML，markdown和Excel都比较快，因为都是文本，下面开始导出PDF。</p>
<h3 id="导出PDF"><a href="#导出PDF" class="headerlink" title="导出PDF"></a>导出PDF</h3><p>导出PDF用的工具是wkhtmltopdf  ，先到官网<a href="https://wkhtmltopdf.org/downloads.html" target="_blank" rel="noopener">https://wkhtmltopdf.org/downloads.html</a>  下载安装 wkhtmltopdf ， 安装后设置环境变量，之前文章写过 <a href="https://mp.weixin.qq.com/s/y7Xo1BtiGwuij9-ILRWxZg" target="_blank" rel="noopener">那些你可能不知道的 windows 奇技淫巧</a>，然后直接命令行就能生成PDF。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">λ wkhtmltopdf http:<span class="comment">//www.baidu.com baidu.pdf</span></span><br><span class="line">Loading pages (<span class="number">1</span>/<span class="number">6</span>)</span><br><span class="line">Counting pages (<span class="number">2</span>/<span class="number">6</span>)</span><br><span class="line">Resolving links (<span class="number">4</span>/<span class="number">6</span>)</span><br><span class="line">Loading headers and footers (<span class="number">5</span>/<span class="number">6</span>)</span><br><span class="line">Printing pages (<span class="number">6</span>/<span class="number">6</span>)</span><br><span class="line">Done</span><br></pre></td></tr></table></figure></p>
<p>比如生成百度首页的PDF。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-91e5fef1f6c2e0a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>Python中使用pdfkit 模块来调用wkhtmltopdf ，先用<code>pip install pdfkit -i http://pypi.douban.com/simple --trusted-host pypi.douban.com</code>来安装它。</p>
<p>再次运行程序，PDF文件也生成了。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-cf04c0093d228441.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>PDF也可以用谷歌浏览器打开，比如这篇<a href="https://mp.weixin.qq.com/s/BSfjFnv54EAHmc6eE75T9g" target="_blank" rel="noopener">一键解锁网易云音乐变灰歌曲</a>。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-8972ab3cade2c4ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>不过由于生成PDF比较慢，文章多的话key参数会失效，需要重新获取，然后修改next_offset继续抓取。<br><code>{&#39;base_resp&#39;: {&#39;ret&#39;: -3, &#39;errmsg&#39;: &#39;no session&#39;, &#39;cookie_count&#39;: 0, &#39;csp_nonce&#39;: 406210942}, &#39;ret&#39;: -3, &#39;errmsg&#39;: &#39;no session&#39;, &#39;cookie_count&#39;: 0}</code><br><img src="https://upload-images.jianshu.io/upload_images/23152173-6a7bef5d7bd73ffe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这样就完美的把我公众号的所有文章下载到本地了，有HTML，PDF，Excel，markdown，chm 格式（在公众号后台回复 <code>公众号</code> 获取我的所有原创文章，如果你有想下载的公众号可以加我微信免费帮忙下载）。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-fe2c352b8ee985cf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="风.png"></p>
<p>目前有个问题是如果公众号有付费文章，下载的也只能看一部分内容。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-5f060dc53c637f43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>还有文章的评论也是有接口获取的，有空再研究下。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-5633948d4f0ecb4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>大家的点赞和在看转发对我非常重要，如果文章对你有帮助还请支持下， 感谢各位！</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及在线听歌网站</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
<tr>
<td>公众号</td>
<td>一键下载公众号所有文章</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/28/2020七夕情人节又来了，给女朋友做个动态二维码/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="苏生不惑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="苏生不惑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/28/2020七夕情人节又来了，给女朋友做个动态二维码/" itemprop="url">2020七夕情人节又来了，给女朋友做个动态二维码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T19:41:28+08:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.5k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>苏生不惑第166 篇原创文章，将本公众号设为<code>星标</code>，第一时间看最新文章。</p>
</blockquote>
<p>又到了一年一度的七夕了，之前写过<a href="https://mp.weixin.qq.com/s/r1rMqhzwHqkeb9T85BmeAg" target="_blank" rel="noopener">听说 520 你还没对象，来这里看看
</a> ，是不还在想送什么礼物，今天分享一个有意思的动态二维码，可以用来哄女朋友开心。</p>
<h3 id="二维码"><a href="#二维码" class="headerlink" title="二维码"></a>二维码</h3><blockquote>
<p>二维码也称为二维条码，是指在一维条码的基础上扩展出另一维具有可读性的条码，使用黑白矩形图案表示二进制数据，被设备扫描后可获取其中所包含的信息。</p>
</blockquote>
<p>以上来自维基百科解释 <a href="https://zh.wikipedia.org/zh-cn/%E4%BA%8C%E7%B6%AD%E7%A2%BC" target="_blank" rel="noopener">https://zh.wikipedia.org/zh-cn/%E4%BA%8C%E7%B6%AD%E7%A2%BC</a> ，自从有了微信，二维码已经随处可见了。</p>
<p>使用 Chrome 扩展可以轻易的生成二维码 <a href="https://chrome.google.com/webstore/detail/quick-qr-code-generator/afpbjjgbdimpioenaedcjgkaigggcdpp/related" target="_blank" rel="noopener">https://chrome.google.com/webstore/detail/quick-qr-code-generator/afpbjjgbdimpioenaedcjgkaigggcdpp/related</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-64ef118b5d5ead70.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>今天介绍的是基于 Python 的二维码工具 myqr 。</p>
<h3 id="myqr"><a href="#myqr" class="headerlink" title="myqr"></a>myqr</h3><p>myqr 可生成普通二维码、带图片的艺术二维码（黑白与彩色）、动态二维码（黑白与彩色） <a href="https://github.com/sylnsfar/qrcode/blob/master/README-cn.md" target="_blank" rel="noopener">https://github.com/sylnsfar/qrcode/blob/master/README-cn.md</a> ，直接使用 pip  install myqr 安装它。</p>
<p>这里以一个表白网页 myqr <a href="http://sushengbuhuo.gitee.io/love/" target="_blank" rel="noopener">http://sushengbuhuo.gitee.io/love/</a> 生成二维码。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> λ myqr http:<span class="comment">//sushengbuhuo.gitee.io/love/</span></span><br><span class="line">line <span class="number">16</span>: mode: byte</span><br><span class="line">Succeed!</span><br><span class="line">Check out your <span class="number">5</span>-H QR-code: d:\download\qrcode.png</span><br></pre></td></tr></table></figure></p>
<p>生成二维码效果：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-1e35778781a5deee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="qrcode.png"></p>
<p>接着用GIF生成一个动态二维码。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-57861cba5ff654df.gif?imageMogr2/auto-orient/strip" alt="心.gif"><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">λ myqr http:<span class="comment">//sushengbuhuo.gitee.io/love/ -p lovelove.gif</span></span><br><span class="line">It may take a <span class="keyword">while</span>, please wait <span class="keyword">for</span> minutes...</span><br><span class="line">line <span class="number">16</span>: mode: byte</span><br><span class="line">Succeed!</span><br><span class="line">Check out your <span class="number">5</span>-H QR-code: d:\download\lovelove_qrcode.gif</span><br></pre></td></tr></table></figure></p>
<p>生成二维码效果：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-3b61c1f59468829e.gif?imageMogr2/auto-orient/strip" alt="lovelove_qrcode.gif"><br> <code>myqr http://sushengbuhuo.gitee.io/love/ -p lovelove.gif -c</code> 彩色效果<br><img src="https://upload-images.jianshu.io/upload_images/23152173-f9a48997cd7e10a2.gif?imageMogr2/auto-orient/strip" alt="lovelove_qrcode.gif"><br>再清晰点。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-17eaf5419e629077.gif?imageMogr2/auto-orient/strip" alt="lovelove_qrcode.gif"><br>用微信扫码后显示效果，可以自己长按识别二维码：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-20a8fd1214ef6684.gif?imageMogr2/auto-orient/strip" alt="npy.gif"><br>可惜动图在微信里没法识别。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-3cb4e25b2c2877ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>还有个模板 <a href="https://a.scene.ehqxiu.cn/s/XteInz0v" target="_blank" rel="noopener">https://a.scene.ehqxiu.cn/s/XteInz0v</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-cb68bfed8c4cd5b5.gif?imageMogr2/auto-orient/strip" alt="xinxin.gif"><br>微信扫描后效果：<br><img src="https://upload-images.jianshu.io/upload_images/23152173-d7fa314a74eb5c55.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>如果你没有Python环境，这里提供了一个exe程序（公众号内回复 <code>女朋友</code> 获取），使用方法很简单，在exe文件同级目录创建一个文件info.txt ，在里面输入对应的参数，之后双击myqr.exe运行即可。</p>
<p>info.txt 文件格式如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">words=http:<span class="comment">//sushengbuhuo.gitee.io/love/</span></span><br><span class="line">v=<span class="number">11</span></span><br><span class="line">p=lovelove.gif</span><br><span class="line">l=Q</span><br><span class="line">c</span><br><span class="line">con=<span class="number">1.5</span></span><br><span class="line">bri=<span class="number">1.3</span></span><br></pre></td></tr></table></figure></p>
<p>你只需要改p后面参数 lovelove.gif（GIF文件名，就是上面那个给你小心心的GIF图，你也可以自己找一个）。</p>
<p>第一次使用会自动下载一些库文件，因为程序依赖 imageio<br><img src="https://upload-images.jianshu.io/upload_images/23152173-3fc6121d056729a8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>如果下载很久不动，你可以从这里自己下载到本地<br><a href="https://github.com/imageio/imageio-binaries/raw/master/freeimage/FreeImage-3.15.1-win64.dll，然后把这个文件放到" target="_blank" rel="noopener">https://github.com/imageio/imageio-binaries/raw/master/freeimage/FreeImage-3.15.1-win64.dll，然后把这个文件放到</a> freeimage 目录<br>C:\Users\xxx\AppData\Local\imageio\freeimage （xxx为自己电脑用户名）， 如果没有freeimage文件夹需要手动创建 。</p>
<p>imageio 目录还有ffmpeg目录，里面有个文件 ffmpeg-win32-v3.2.4.exe ，也可以从这里下载 <a href="https://github.com/imageio/imageio-binaries/raw/master/ffmpeg/ffmpeg-win32-v3.2.4.exe" target="_blank" rel="noopener">https://github.com/imageio/imageio-binaries/raw/master/ffmpeg/ffmpeg-win32-v3.2.4.exe</a> ，运行myqr.exe后在本地生成动态GIF图 lovelove_qrcode.gif。<br><img src="https://upload-images.jianshu.io/upload_images/23152173-3d8eed3a4875c8b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-cbf555f19081c15a.gif?imageMogr2/auto-orient/strip" alt="zhuyin_qrcode.gif"></p>
<p>这里给我的公众号二维码也生成个GIF图，公众号的二维码可以通过微信号生成 <a href="https://open.weixin.qq.com/qr/code?username=susheng_buhuo" target="_blank" rel="noopener">https://open.weixin.qq.com/qr/code?username=susheng_buhuo</a>  ，解码后的地址为  <a href="http://weixin.qq.com/r/WDvM1MPE2p6lrYe3925K" target="_blank" rel="noopener">http://weixin.qq.com/r/WDvM1MPE2p6lrYe3925K</a> ，生成效果：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/23152173-a2582440fd3cb7ef.gif?imageMogr2/auto-orient/strip" alt="lovelove_qrcode.gif"></p>
<p>下面分享段Python代码，输出❤心形love</p>
<h3 id="代码输出爱"><a href="#代码输出爱" class="headerlink" title="代码输出爱"></a>代码输出爱</h3><p>命令行执行<br><code>print(&#39;\n&#39;.join([&#39;&#39;.join([(&#39;Love&#39;[(x-y) % len(&#39;Love&#39;)] if ((x*0.05)**2+(y*0.1)**2-1)**3-(x*0.05)**2*(y*0.1)**3 &lt;= 0 else &#39; &#39;) for x in range(-30, 30)]) for y in range(30, -30, -1)]))</code><br><img src="https://upload-images.jianshu.io/upload_images/23152173-b8e79e383b9810ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">        veLoveLov           veLoveLov</span><br><span class="line">    eLoveLoveLoveLove   eLoveLoveLoveLove</span><br><span class="line">  veLoveLoveLoveLoveLoveLoveLoveLoveLoveLov</span><br><span class="line"> veLoveLoveLoveLoveLoveLoveLoveLoveLoveLoveL</span><br><span class="line">veLoveLoveLoveLoveLoveLoveLoveLoveLoveLoveLov</span><br><span class="line">eLoveLoveLoveLoveLoveLoveLoveLoveLoveLoveLove</span><br><span class="line">LoveLoveLoveLoveLoveLoveLoveLoveLoveLoveLoveL</span><br><span class="line">oveLoveLoveLoveLoveLoveLoveLoveLoveLoveLoveLo</span><br><span class="line">veLoveLoveLoveLoveLoveLoveLoveLoveLoveLoveLov</span><br><span class="line">eLoveLoveLoveLoveLoveLoveLoveLoveLoveLoveLove</span><br><span class="line"> oveLoveLoveLoveLoveLoveLoveLoveLoveLoveLove</span><br><span class="line">  eLoveLoveLoveLoveLoveLoveLoveLoveLoveLove</span><br><span class="line">  LoveLoveLoveLoveLoveLoveLoveLoveLoveLoveL</span><br><span class="line">    eLoveLoveLoveLoveLoveLoveLoveLoveLove</span><br><span class="line">     oveLoveLoveLoveLoveLoveLoveLoveLove</span><br><span class="line">      eLoveLoveLoveLoveLoveLoveLoveLove</span><br><span class="line">        veLoveLoveLoveLoveLoveLoveLov</span><br><span class="line">          oveLoveLoveLoveLoveLoveLo</span><br><span class="line">            LoveLoveLoveLoveLoveL</span><br><span class="line">               LoveLoveLoveLov</span><br><span class="line">                  LoveLoveL</span><br><span class="line">                     Lov</span><br><span class="line">                      v</span><br></pre></td></tr></table></figure></p>
<p>还可以自定义<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">words = input(<span class="string">'Please input the words you want to say!:'</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> words.split():</span><br><span class="line">    print(<span class="string">'\n'</span>.join([<span class="string">''</span>.join([(item[(x-y) % len(item)] <span class="keyword">if</span> ((x*<span class="number">0.05</span>)**<span class="number">2</span>+(y*<span class="number">0.1</span>)**<span class="number">2</span><span class="number">-1</span>)**<span class="number">3</span>-(x*<span class="number">0.05</span>)**<span class="number">2</span>*(y*<span class="number">0.1</span>)**<span class="number">3</span> &lt;= <span class="number">0</span> <span class="keyword">else</span> <span class="string">' '</span>) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">-30</span>, <span class="number">30</span>)]) <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">12</span>, <span class="number">-12</span>, <span class="number">-1</span>)]))</span><br><span class="line">    time.sleep(<span class="number">1.5</span>)</span><br></pre></td></tr></table></figure></p>
<p><code>[plt.show() for _, __, ___, plt in [(plt.plot(x, y1, color=&#39;r&#39;), plt.plot(x, y2, color=&#39;r&#39;), np, plt) for x, y1, y2, np, plt in [(x, 0.618*np.abs(x) - 0.8* np.sqrt(64-x**2), 0.618*np.abs(x) + 0.8* np.sqrt(64-x**2), np, plt) for x, np, plt in [(np.linspace(-8, 8, 1024), np, plt) for np, plt in [(__import__(&#39;numpy&#39;), __import__(&#39;pylab&#39;))]]]]]</code><br><img src="https://upload-images.jianshu.io/upload_images/23152173-e638ec967d1f7d79.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>没有安装Python，在浏览器控制台也是可以的。</p>
<p><code>console.log([...Array(30).keys()].map(u=&gt;u-15).reverse().map(y=&gt;[...Array(60).keys()].map(u=&gt;u-30).map(x=&gt;((x*0.04)**2+(y*0.1)**2-1)**3-(x*0.04)**2*(y*0.1)**3&lt;=0?&#39;babyiloveu&#39;.split(&#39;&#39;).slice([(x-y)%10])[0]:&#39; &#39;).join(&#39;&#39;)).join(&#39;\n&#39;))</code><br><img src="https://upload-images.jianshu.io/upload_images/23152173-dffdf0c747709c85.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><code>print(&#39;\n&#39;.join([&#39;&#39;.join([(u&#39;ILoveChina爱&#39;[(x-y)%11]if((x*0.05)**2+(y*0.1)**2-1)**3-(x*0.05)**2* 0.1)**3&lt;=0 else&#39; &#39;)for x in range(-30,30)])for y in range(15,-15,-1)]))</code><br><img src="https://upload-images.jianshu.io/upload_images/23152173-9c05215f7b33ee63.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>最后分享个舔狗日记一键生成器，让你速成舔狗之王，运行后在本地生成文件<code>舔狗日记.txt</code> ，这日记看得我都辛酸。<br><a href="https://wwa.lanzous.com/iC9F1eyq6je" target="_blank" rel="noopener">https://wwa.lanzous.com/iC9F1eyq6je</a><br><img src="https://upload-images.jianshu.io/upload_images/23152173-fd26f1a0c71b0cd9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>大家的点赞和在看转发对我非常重要，如果文章对你有帮助还请支持下， 感谢各位！</p>
</blockquote>
<table>
<thead>
<tr>
<th>公众号后台回复关键词</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>微信</td>
<td>获取你的微信好友头像拼图及查看微信撤回消息</td>
</tr>
<tr>
<td>b站</td>
<td>获取下载b站视频工具及找回被删b站视频方法</td>
</tr>
<tr>
<td>视频</td>
<td>获取下载腾讯，优酷，爱奇艺，微博视频工具及去除logo脚本</td>
</tr>
<tr>
<td>百度网盘</td>
<td>获取加速下载网盘文件方法及查找电影电视剧网站</td>
</tr>
<tr>
<td>朋友圈</td>
<td>获取发空白朋友圈方法</td>
</tr>
<tr>
<td>微博</td>
<td>获取备份微博工具及分析微博账号数据</td>
</tr>
<tr>
<td>音乐</td>
<td>获取下载音乐工具及解锁网易云音乐无版权歌曲</td>
</tr>
<tr>
<td>油猴</td>
<td>获取油猴脚本</td>
</tr>
<tr>
<td>谷歌</td>
<td>获取安装Chrome扩展方法</td>
</tr>
</tbody>
</table>
<p><img src="https://upload-images.jianshu.io/upload_images/17817191-9d41aa25edcd25c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="免费知识星球，每天更新"></p>
<h3 id="公众号-苏生不惑"><a href="#公众号-苏生不惑" class="headerlink" title="公众号 苏生不惑"></a>公众号 苏生不惑</h3><p> <img src="https://upload-images.jianshu.io/upload_images/17817191-6e0079f95d4c0338.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="扫描二维码关注或搜索微信susheng_buhuo"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">苏生不惑</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">288</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/sushengbuhuo" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mysusheng@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/mysusheng" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://v2ex.com/" title="v2ex" target="_blank">v2ex</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.fanhaobai.com/" title="fanhaobai" target="_blank">fanhaobai</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://yuanxuxu.com/archives/" title="yuanxuxu" target="_blank">yuanxuxu</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.snail-c.cn/article" title="snail-c" target="_blank">snail-c</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://showcj.com/archives" title="showcj" target="_blank">showcj</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://vultr.aicnm.com/%E6%9C%80%E6%96%B0Vultr%E6%B3%A8%E5%86%8C%E5%8F%8AVPS%E8%B4%AD%E4%B9%B0%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B/" title="vultr" target="_blank">vultr</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.lucissfer.com/" title="lucissfer" target="_blank">lucissfer</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://blog.csdn.net/fdipzone/article/details/79352685" title="傲雪星枫" target="_blank">傲雪星枫</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.yoby123.cn/index.php/category/default/" title="小白的分享" target="_blank">小白的分享</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.cnblogs.com/52fhy/p/5819995.html" title="PHP攻城狮" target="_blank">PHP攻城狮</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://blog.jiaojie.site/" title="php" target="_blank">php</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://sphard.com/archives/" title="sphard" target="_blank">sphard</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://yuanxuxu.com/archives/" title="LNMP技术栈笔记" target="_blank">LNMP技术栈笔记</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.coding10.com/" title="学习 Laravel" target="_blank">学习 Laravel</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://shuwoom.com/?page_id=929" title="区块链学习指南" target="_blank">区块链学习指南</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://greenlightt.github.io/archives/" title="greenlightt" target="_blank">greenlightt</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.0php.net/archives/" title="0php" target="_blank">0php</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.fordba.com/category/mysql" title="mysql" target="_blank">mysql</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.itcodemonkey.com/" title="程序员" target="_blank">程序员</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.yanshuo.me/r/v2ex" title="言说" target="_blank">言说</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.timiguo.com/archive.html" title="提米果的博客" target="_blank">提米果的博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://phpartisan.cn/news/112.html" title="phpartisan" target="_blank">phpartisan</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.cnblogs.com/52fhy/" title="飞鸿影" target="_blank">飞鸿影</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.54php.cn/" title="54php" target="_blank">54php</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.lazyman.vip/" title="营销" target="_blank">营销</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.njphper.com/archives/" title="做人呢最重要的就是开心" target="_blank">做人呢最重要的就是开心</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.h57.pw/" title="php 初心者" target="_blank">php 初心者</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">苏生不惑</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>



<div>
<span id="showDays"></span>

</div>

<span id="busuanzi_container_site_pv">
   总访问量:<span id="busuanzi_value_site_pv"></span>次
</span>



  <span class="post-meta-divider">|</span>



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共688.4k字</span>
</div>
<script>
var birthDay = new Date("11/20/2018");
var now = new Date();
var duration = now.getTime() - birthDay.getTime();
var total= Math.floor(duration / (1000 * 60 * 60 * 24));
document.getElementById("showDays").innerHTML = "本站已运行 "+total+" 天";
</script>

        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  











<script type="text/javascript">
    (function() {
        // 匿名函数，防止污染全局变量
        var utterances = document.createElement('script');
        utterances.type = 'text/javascript';
        utterances.async = true;
        utterances.setAttribute('issue-term','0')
        utterances.setAttribute('theme','')
        utterances.setAttribute('repo','sushengbuhuo/laravel_ioc_demo')
        utterances.crossorigin = 'anonymous';
        utterances.src = 'https://utteranc.es/client.js';
        // content 是要插入评论的地方
        document.getElementById('gitment-container').appendChild(utterances);
    })();
</script>


  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  
<script>
  ((window.gitter = {}).chat = {}).options = {
    //room替换成自己的聊天室名称即可，room的名称规则是：username/roomname
    room: 'sushengbuhuo-chat/mychat'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

</body>
</html>
